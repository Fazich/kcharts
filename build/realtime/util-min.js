/*!build time : 2015-04-14 1:37:57 PM*/
KISSY.add("kg/kcharts/6.0.1/realtime/util",function(a){function b(a,b){for(var c=Math.min.apply(Math,a),d=Math.max.apply(Math,a),e=d-c,f=[o,p,q,r,s],g=[],h=0;h<f.length;h++){var i=e/f[h];if(1>i)break;g.push(i-b)}var j,k=Math.min.apply(Math,g);j=k?g.indexOf(k):0;var l=["minute","hour","day","week","month"];return l[j]}function c(a){var b={minute:6e4,hour:36e5,day:864e5,week:6048e5,month:18144e6};return b[a]}function d(a,b){var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b}function e(a,b){return Math.round(a*b)/b}function f(a,b,c){c>1?c=1:0>c&&(c=0);var d=a+(b-a)*c;return Math.round(100*d)/100}function g(a,b){var c=[b[0]-a[0],b[1]-a[1]];if(0===c[0])return c[1]>0?90:c[1]<0?-90:0;var d=F*Math.atan(c[1]/c[0]);return c[0]<0&&(d-=180),d}function h(a,b,c){c||(c={});var d,h,i,j,k="number"!=typeof c.scale?3:c.scale,l="number"!=typeof c.ratio?.5:c.ratio,m=1e6,n=g(a,b),o=Math.cos(n*E),p=Math.sin(n*E),q=f(a[0],b[0],l),r=f(a[1],b[1],l);return d=q+p*k,i=r-o*k,h=q-p*k,j=r+o*k,{x0:e(q,m),y0:e(r,m),x1:e(d,m),y1:e(i,m),x2:e(h,m),y2:e(j,m)}}function i(a,b){for(var c=a.name,d=!0,e=0,f=b.length;f>e;e++)if(b[e].name===c){var g=b[e].data;b[e].data=[].concat(g,a.data),d=!1;break}d&&b.push(a)}function j(a,b){var c=b&&a&&a[0];c&&c.setAttribute("shape-rendering","crispEdges")}function k(a){var b,c,d,e;d=e=0;for(var f=0,g=0,h=a.length;h>g;g++)a[g]&&"number"==typeof a[g].x&&(d+=a[g].x,e+=a[g].y,f++);return b=d/f,c=e/f,{x:b,y:c}}function l(a,b,c){return a<=b.length?b:l(a,c+b,c)}var m={},n=function(a){this.console},o=6e4,p=36e5,q=864e5,r=6048e5,s=18144e6;m.chooseUnit=b,m.unit2digts=c;var t=2.220446049250313e-16,u=1/Math.log(10),v=function(a,b,c,d,e,f){var g;return g=(t>d%f||t>f-d%f)&&0>=d&&e>=0?1:0,1-a/(b-1)-c+g},w=function(a,b,c){return 1-a/(b-1)-c+1},x=function(a,b,c,d){var e;return e=b-a,1-.5*(Math.pow(b-d,2)+Math.pow(a-c,2))/Math.pow(.1*e,2)},y=function(a,b,c){var d,e;return e=b-a,c>e?(d=(c-e)/2,1-.5*(Math.pow(d,2)+Math.pow(d,2))/Math.pow(.1*e,2)):1},z=function(a,b,c,d,e,f){var g,h;return g=(a-1)/(f-e),h=(b-1)/(Math.max(f,d)-Math.min(c,e)),2-Math.max(g/h,h/g)},A=function(a,b){return a>=b?2-(a-1)/(b-1):1},B=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U;if(null==d&&(d=!1),null==e&&(e=[1,5,2,2.5,4,3]),null==f&&(f={simplicity:.2,coverage:.25,density:.5,legibility:.05}),L=function(a,b,c,d){return f.simplicity*a+f.coverage*b+f.density*c+f.legibility*d},h=0,g=0,i=0,j=-2,o=t,T=a>b?[b,a]:[a,b],G=T[0],E=T[1],o>b-a)return[G,E,c,-2];for(B=e.length,q=-1;q<Number.POSITIVE_INFINITY;){for(J=R=0,U=B-1;U>=0?U>=R:R>=U;J=U>=0?++R:--R)if(I=e[J],M=w(J,B,q),L(M,1,1,1)<j)q=Number.POSITIVE_INFINITY;else for(r=2;r<Number.POSITIVE_INFINITY;){if(n=A(r,c),L(M,1,n,1)<j)r=Number.POSITIVE_INFINITY;else for(m=(E-G)/(r+1)/q/I,Q=Math.ceil(Math.log(m)*u);Q<Number.POSITIVE_INFINITY;)if(O=q*I*Math.pow(10,Q),l=y(G,E,O*(r-1)),L(M,l,n,1)<j)Q=Number.POSITIVE_INFINITY;else{if(H=Math.floor(E/O)*q-(r-1)*q,F=Math.ceil(G/O)*q,H>F);else for(N=S=H;F>=H?F>=S:S>=F;N=F>=H?++S:--S)D=N*(O/q),C=D+O*(r-1),(!d||G>=D&&C>=E)&&(K=v(J,B,q,D,C,O),k=x(G,E,D,C),p=z(r,c,G,E,D,C),s=1,P=L(K,k,p,s),P>j&&(j=P,h=D,g=C,i=O));Q+=1}r+=1}q+=1}return[h,g,i,j]};m.getProperUnit=B;var C=function(a,b,c){var d=B(a,b,c),e=d[0],f=d[1],g=d[2];b>f&&(f+=g),e>a&&(e-=g);for(var h=(f-e)/g,i=[],j=e,k=1;h>=k;k++)i.push(j),j+=g;return i.push(j),i};m.axis=C;var D=function(a,d){var e=Math.max.apply(Math,a),f=b(a,d);f||n("ERR OCCURED!");var g,h,i=c(f),j=a.map(function(a){return a/i});g=Math.min.apply(Math,j),h=Math.max.apply(Math,j);var k=C(g,h,d),l=Math.min.apply(Math,k)*i,m=Math.max.apply(Math,k)*i;return e>m&&(m+=i),k=k.map(function(a){return+new Date(a*i)}),{dates:k,unit:i,min:l,max:m}};m.getlabel=D,m.formatDate=d,m.roundToFixed=e;var E=Math.PI/180,F=180/Math.PI;return m.verticalLine=h,m.combineSeries=i,m.fixSVGLineStyle=j,m.averagePoints=k,m.pad=l,m});