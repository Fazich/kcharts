/*! kcharts - v1.3 - 2014-01-06 9:55:15 AM
* Copyright (c) 2014 数据可视化小组; Licensed  */
KISSY.add("gallery/kcharts/1.3/raphael/index",function(){return function(){(function(l){var t,e,i="0.4.2",r="hasOwnProperty",n=/[\.\/]/,a="*",s=function(){},o=function(l,t){return l-t},h={n:{}},c=function(l,i){l+="";var r,n=e,a=Array.prototype.slice.call(arguments,2),s=c.listeners(l),h=0,x=[],y={},u=[],f=t;t=l,e=0;for(var d=0,p=s.length;p>d;d++)"zIndex"in s[d]&&(x.push(s[d].zIndex),0>s[d].zIndex&&(y[s[d].zIndex]=s[d]));for(x.sort(o);0>x[h];)if(r=y[x[h++]],u.push(r.apply(i,a)),e)return e=n,u;for(d=0;p>d;d++)if(r=s[d],"zIndex"in r)if(r.zIndex==x[h]){if(u.push(r.apply(i,a)),e)break;do if(h++,r=y[x[h]],r&&u.push(r.apply(i,a)),e)break;while(r)}else y[r.zIndex]=r;else if(u.push(r.apply(i,a)),e)break;return e=n,t=f,u.length?u:null};c._events=h,c.listeners=function(l){var t,e,i,r,s,o,c,x,y=l.split(n),u=h,f=[u],d=[];for(r=0,s=y.length;s>r;r++){for(x=[],o=0,c=f.length;c>o;o++)for(u=f[o].n,e=[u[y[r]],u[a]],i=2;i--;)t=e[i],t&&(x.push(t),d=d.concat(t.f||[]));f=x}return d},c.on=function(l,t){if(l+="","function"!=typeof t)return function(){};for(var e=l.split(n),i=h,r=0,a=e.length;a>r;r++)i=i.n,i=i.hasOwnProperty(e[r])&&i[e[r]]||(i[e[r]]={n:{}});for(i.f=i.f||[],r=0,a=i.f.length;a>r;r++)if(i.f[r]==t)return s;return i.f.push(t),function(l){+l==+l&&(t.zIndex=+l)}},c.f=function(l){var t=[].slice.call(arguments,1);return function(){c.apply(null,[l,null].concat(t).concat([].slice.call(arguments,0)))}},c.stop=function(){e=1},c.nt=function(l){return l?RegExp("(?:\\.|\\/|^)"+l+"(?:\\.|\\/|$)").test(t):t},c.nts=function(){return t.split(n)},c.off=c.unbind=function(l,t){if(!l)return c._events=h={n:{}},void 0;var e,i,s,o,x,y,u,f=l.split(n),d=[h];for(o=0,x=f.length;x>o;o++)for(y=0;d.length>y;y+=s.length-2){if(s=[y,1],e=d[y].n,f[o]!=a)e[f[o]]&&s.push(e[f[o]]);else for(i in e)e[r](i)&&s.push(e[i]);d.splice.apply(d,s)}for(o=0,x=d.length;x>o;o++)for(e=d[o];e.n;){if(t){if(e.f){for(y=0,u=e.f.length;u>y;y++)if(e.f[y]==t){e.f.splice(y,1);break}!e.f.length&&delete e.f}for(i in e.n)if(e.n[r](i)&&e.n[i].f){var p=e.n[i].f;for(y=0,u=p.length;u>y;y++)if(p[y]==t){p.splice(y,1);break}!p.length&&delete e.n[i].f}}else{delete e.f;for(i in e.n)e.n[r](i)&&e.n[i].f&&delete e.n[i].f}e=e.n}},c.once=function(l,t){var e=function(){return c.unbind(l,e),t.apply(this,arguments)};return c.on(l,e)},c.version=i,c.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):l.eve=c})(this),function(l,t){"function"==typeof define&&define.amd?define(["eve"],function(e){return t(l,e)}):t(l,l.eve)}(this,function(l,t){function e(l){if(e.is(l,"function"))return _?l():t.on("raphael.DOMload",l);if(e.is(l,Z))return e._engine.create[M](e,l.splice(0,3+e.is(l[0],$))).add(l);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var r=i.pop();return _?r.call(e._engine.create[M](e,i)):t.on("raphael.DOMload",function(){r.call(e._engine.create[M](e,i))})}return e._engine.create[M](e,arguments)}function i(l){if(Object(l)!==l)return l;var t=new l.constructor;for(var e in l)l[S](e)&&(t[e]=i(l[e]));return t}function r(l,t){for(var e=0,i=l.length;i>e;e++)if(l[e]===t)return l.push(l.splice(e,1)[0])}function n(l,t,e){function i(){var n=Array.prototype.slice.call(arguments,0),a=n.join("␀"),s=i.cache=i.cache||{},o=i.count=i.count||[];return s[S](a)?(r(o,a),e?e(s[a]):s[a]):(o.length>=1e3&&delete s[o.shift()],o.push(a),s[a]=l[M](t,n),e?e(s[a]):s[a])}return i}function a(){return this.hex}function s(l,t){for(var e=[],i=0,r=l.length;r-2*!t>i;i+=2){var n=[{x:+l[i-2],y:+l[i-1]},{x:+l[i],y:+l[i+1]},{x:+l[i+2],y:+l[i+3]},{x:+l[i+4],y:+l[i+5]}];t?i?r-4==i?n[3]={x:+l[0],y:+l[1]}:r-2==i&&(n[2]={x:+l[0],y:+l[1]},n[3]={x:+l[2],y:+l[3]}):n[0]={x:+l[r-2],y:+l[r-1]}:r-4==i?n[3]=n[2]:i||(n[0]={x:+l[i],y:+l[i+1]}),e.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y])}return e}function o(l,t,e,i,r){var n=-3*t+9*e-9*i+3*r,a=l*n+6*t-12*e+6*i;return l*a-3*t+3*e}function h(l,t,e,i,r,n,a,s,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var c=h/2,x=12,y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;x>d;d++){var p=c*y[d]+c,v=o(p,l,e,r,a),g=o(p,t,i,n,s),m=v*v+g*g;f+=u[d]*X.sqrt(m)}return c*f}function c(l,t,e,i,r,n,a,s,o){if(!(0>o||o>h(l,t,e,i,r,n,a,s))){var c,x=1,y=x/2,u=x-y,f=.01;for(c=h(l,t,e,i,r,n,a,s,u);j(c-o)>f;)y/=2,u+=(o>c?1:-1)*y,c=h(l,t,e,i,r,n,a,s,u);return u}}function x(l,t,e,i,r,n,a,s){if(!(G(l,e)<D(r,a)||D(l,e)>G(r,a)||G(t,i)<D(n,s)||D(t,i)>G(n,s))){var o=(l*i-t*e)*(r-a)-(l-e)*(r*s-n*a),h=(l*i-t*e)*(n-s)-(t-i)*(r*s-n*a),c=(l-e)*(n-s)-(t-i)*(r-a);if(c){var x=o/c,y=h/c,u=+x.toFixed(2),f=+y.toFixed(2);if(!(+D(l,e).toFixed(2)>u||u>+G(l,e).toFixed(2)||+D(r,a).toFixed(2)>u||u>+G(r,a).toFixed(2)||+D(t,i).toFixed(2)>f||f>+G(t,i).toFixed(2)||+D(n,s).toFixed(2)>f||f>+G(n,s).toFixed(2)))return{x:x,y:y}}}}function y(l,t,i){var r=e.bezierBBox(l),n=e.bezierBBox(t);if(!e.isBBoxIntersect(r,n))return i?0:[];for(var a=h.apply(0,l),s=h.apply(0,t),o=~~(a/5),c=~~(s/5),y=[],u=[],f={},d=i?0:[],p=0;o+1>p;p++){var v=e.findDotsAtSegment.apply(e,l.concat(p/o));y.push({x:v.x,y:v.y,t:p/o})}for(p=0;c+1>p;p++)v=e.findDotsAtSegment.apply(e,t.concat(p/c)),u.push({x:v.x,y:v.y,t:p/c});for(p=0;o>p;p++)for(var g=0;c>g;g++){var m=y[p],_=y[p+1],b=u[g],w=u[g+1],k=.001>j(_.x-m.x)?"y":"x",C=.001>j(w.x-b.x)?"y":"x",S=x(m.x,m.y,_.x,_.y,b.x,b.y,w.x,w.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var L=m.t+j((S[k]-m[k])/(_[k]-m[k]))*(_.t-m.t),A=b.t+j((S[C]-b[C])/(w[C]-b[C]))*(w.t-b.t);L>=0&&1>=L&&A>=0&&1>=A&&(i?d++:d.push({x:S.x,y:S.y,t1:L,t2:A}))}}return d}function u(l,t,i){l=e._path2curve(l),t=e._path2curve(t);for(var r,n,a,s,o,h,c,x,u,f,d=i?0:[],p=0,v=l.length;v>p;p++){var g=l[p];if("M"==g[0])r=o=g[1],n=h=g[2];else{"C"==g[0]?(u=[r,n].concat(g.slice(1)),r=u[6],n=u[7]):(u=[r,n,r,n,o,h,o,h],r=o,n=h);for(var m=0,_=t.length;_>m;m++){var b=t[m];if("M"==b[0])a=c=b[1],s=x=b[2];else{"C"==b[0]?(f=[a,s].concat(b.slice(1)),a=f[6],s=f[7]):(f=[a,s,a,s,c,x,c,x],a=c,s=x);var w=y(u,f,i);if(i)d+=w;else{for(var k=0,C=w.length;C>k;k++)w[k].segment1=p,w[k].segment2=m,w[k].bez1=u,w[k].bez2=f;d=d.concat(w)}}}}}return d}function f(l,t,e,i,r,n){null!=l?(this.a=+l,this.b=+t,this.c=+e,this.d=+i,this.e=+r,this.f=+n):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+z+this.y+z+this.width+" × "+this.height}function p(l,t,e,i,r,n){function a(l){return((x*l+c)*l+h)*l}function s(l,t){var e=o(l,t);return((f*e+u)*e+y)*e}function o(l,t){var e,i,r,n,s,o;for(r=l,o=0;8>o;o++){if(n=a(r)-l,t>j(n))return r;if(s=(3*x*r+2*c)*r+h,1e-6>j(s))break;r-=n/s}if(e=0,i=1,r=l,e>r)return e;if(r>i)return i;for(;i>e;){if(n=a(r),t>j(n-l))return r;l>n?e=r:i=r,r=(i-e)/2+e}return r}var h=3*t,c=3*(i-t)-h,x=1-h-c,y=3*e,u=3*(r-e)-y,f=1-y-u;return s(l,1/(200*n))}function v(l,t){var e=[],i={};if(this.ms=t,this.times=1,l){for(var r in l)l[S](r)&&(i[J(r)]=l[r],e.push(J(r)));e.sort(xt)}this.anim=i,this.top=e[e.length-1],this.percents=e}function g(l,i,r,n,a,s){r=J(r);var o,h,c,x,y,u,d=l.ms,v={},g={},m={};if(n)for(b=0,k=oe.length;k>b;b++){var _=oe[b];if(_.el.id==i.id&&_.anim==l){_.percent!=r?(oe.splice(b,1),c=1):h=_,i.attr(_.totalOrigin);break}}else n=+g;for(var b=0,k=l.percents.length;k>b;b++){if(l.percents[b]==r||l.percents[b]>n*l.top){r=l.percents[b],y=l.percents[b-1]||0,d=d/l.top*(r-y),x=l.percents[b+1],o=l.anim[r];break}n&&i.attr(l.anim[l.percents[b]])}if(o){if(h)h.initstatus=n,h.start=new Date-h.ms*n;else{for(var C in o)if(o[S](C)&&(it[S](C)||i.paper.customAttributes[S](C)))switch(v[C]=i.attr(C),null==v[C]&&(v[C]=et[C]),g[C]=o[C],it[C]){case $:m[C]=(g[C]-v[C])/d;break;case"colour":v[C]=e.getRGB(v[C]);var L=e.getRGB(g[C]);m[C]={r:(L.r-v[C].r)/d,g:(L.g-v[C].g)/d,b:(L.b-v[C].b)/d};break;case"path":var A=Rt(v[C],g[C]),T=A[1];for(v[C]=A[0],m[C]=[],b=0,k=v[C].length;k>b;b++){m[C][b]=[0];for(var M=1,E=v[C][b].length;E>M;M++)m[C][b][M]=(T[b][M]-v[C][b][M])/d}break;case"transform":var P=i._,z=Dt(P[C],g[C]);if(z)for(v[C]=z.from,g[C]=z.to,m[C]=[],m[C].real=!0,b=0,k=v[C].length;k>b;b++)for(m[C][b]=[v[C][b][0]],M=1,E=v[C][b].length;E>M;M++)m[C][b][M]=(g[C][b][M]-v[C][b][M])/d;else{var R=i.matrix||new f,F={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};v[C]=[R.a,R.b,R.c,R.d,R.e,R.f],Xt(F,g[C]),g[C]=F._.transform,m[C]=[(F.matrix.a-R.a)/d,(F.matrix.b-R.b)/d,(F.matrix.c-R.c)/d,(F.matrix.d-R.d)/d,(F.matrix.e-R.e)/d,(F.matrix.f-R.f)/d]}break;case"csv":var Y=I(o[C])[N](w),X=I(v[C])[N](w);if("clip-rect"==C)for(v[C]=X,m[C]=[],b=X.length;b--;)m[C][b]=(Y[b]-v[C][b])/d;g[C]=Y;break;default:for(Y=[][B](o[C]),X=[][B](v[C]),m[C]=[],b=i.paper.customAttributes[C].length;b--;)m[C][b]=((Y[b]||0)-(X[b]||0))/d}var G=o.easing,D=e.easing_formulas[G];if(!D)if(D=I(G).match(K),D&&5==D.length){var j=D;D=function(l){return p(l,+j[1],+j[2],+j[3],+j[4],d)}}else D=ut;if(u=o.start||l.start||+new Date,_={anim:l,percent:r,timestamp:u,start:u+(l.del||0),status:0,initstatus:n||0,stop:!1,ms:d,easing:D,from:v,diff:m,to:g,el:i,callback:o.callback,prev:y,next:x,repeat:s||l.times,origin:i.attr(),totalOrigin:a},oe.push(_),n&&!h&&!c&&(_.stop=!0,_.start=new Date-d*n,1==oe.length))return ce();c&&(_.start=new Date-_.ms*n),1==oe.length&&he(ce)}t("raphael.anim.start."+i.id,i,l)}}function m(l){for(var t=0;oe.length>t;t++)oe[t].el.paper==l&&oe.splice(t--,1)}e.version="2.1.0",e.eve=t;var _,b,w=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="hasOwnProperty",L={doc:document,win:l},A={was:Object.prototype[S].call(L.win,"Raphael"),is:L.win.Raphael},T=function(){this.ca=this.customAttributes={}},M="apply",B="concat",E="ontouchstart"in L.win||L.win.DocumentTouch&&L.doc instanceof DocumentTouch,P="",z=" ",I=String,N="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[N](z),F={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},Y=I.prototype.toLowerCase,X=Math,G=X.max,D=X.min,j=X.abs,O=X.pow,q=X.PI,$="number",V="string",Z="array",U=Object.prototype.toString,H=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),W={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=X.round,J=parseFloat,lt=parseInt,tt=I.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},it=e._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ct=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),xt=function(l,t){return J(l)-J(t)},yt=function(){},ut=function(l){return l},ft=e._rectPath=function(l,t,e,i,r){return r?[["M",l+r,t],["l",e-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-e,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",l,t],["l",e,0],["l",0,i],["l",-e,0],["z"]]},dt=function(l,t,e,i){return null==i&&(i=e),[["M",l,t],["m",0,-i],["a",e,i,0,1,1,0,2*i],["a",e,i,0,1,1,0,-2*i],["z"]]},pt=e._getPath={path:function(l){return l.attr("path")},circle:function(l){var t=l.attrs;return dt(t.cx,t.cy,t.r)},ellipse:function(l){var t=l.attrs;return dt(t.cx,t.cy,t.rx,t.ry)},rect:function(l){var t=l.attrs;return ft(t.x,t.y,t.width,t.height,t.r)},image:function(l){var t=l.attrs;return ft(t.x,t.y,t.width,t.height)},text:function(l){var t=l._getBBox();return ft(t.x,t.y,t.width,t.height)},set:function(l){var t=l._getBBox();return ft(t.x,t.y,t.width,t.height)}},vt=e.mapPath=function(l,t){if(!t)return l;var e,i,r,n,a,s,o;for(l=Rt(l),r=0,a=l.length;a>r;r++)for(o=l[r],n=1,s=o.length;s>n;n+=2)e=t.x(o[n],o[n+1]),i=t.y(o[n],o[n+1]),o[n]=e,o[n+1]=i;return l};if(e._g=L,e.type=L.win.SVGAngle||L.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var gt,mt=L.doc.createElement("div");if(mt.innerHTML='<v:shape adj="1"/>',gt=mt.firstChild,gt.style.behavior="url(#default#VML)",!gt||"object"!=typeof gt.adj)return e.type=P;mt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=T,e.fn=b=T.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(l,t){return t=Y.call(t),"finite"==t?!W[S](+l):"array"==t?l instanceof Array:"null"==t&&null===l||t==typeof l&&null!==l||"object"==t&&l===Object(l)||"array"==t&&Array.isArray&&Array.isArray(l)||U.call(l).slice(8,-1).toLowerCase()==t},e.angle=function(l,t,i,r,n,a){if(null==n){var s=l-i,o=t-r;return s||o?(180+180*X.atan2(-o,-s)/q+360)%360:0}return e.angle(l,t,n,a)-e.angle(i,r,n,a)},e.rad=function(l){return l%360*q/180},e.deg=function(l){return 180*l/q%360},e.snapTo=function(l,t,i){if(i=e.is(i,"finite")?i:10,e.is(l,Z)){for(var r=l.length;r--;)if(i>=j(l[r]-t))return l[r]}else{l=+l;var n=t%l;if(i>n)return t-n;if(n>l-i)return t-n+l}return t},e.createUUID=function(l,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(l,t).toUpperCase()}}(/[xy]/g,function(l){var t=0|16*X.random(),e="x"==l?t:8|3&t;return e.toString(16)}),e.setWindow=function(l){t("raphael.setWindow",e,L.win,l),L.win=l,L.doc=L.win.document,e._engine.initWin&&e._engine.initWin(L.win)};var _t=function(l){if(e.vml){var t,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),t=r.body}catch(a){t=createPopup().document.body}var s=t.createTextRange();_t=n(function(l){try{t.style.color=I(l).replace(i,P);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(r){return"none"}})}else{var o=L.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",L.doc.body.appendChild(o),_t=n(function(l){return o.style.color=l,L.doc.defaultView.getComputedStyle(o,P).getPropertyValue("color")})}return _t(l)},bt=function(){return"hsb("+[this.h,this.s,this.b]+")"},wt=function(){return"hsl("+[this.h,this.s,this.l]+")"},kt=function(){return this.hex},Ct=function(l,t,i){if(null==t&&e.is(l,"object")&&"r"in l&&"g"in l&&"b"in l&&(i=l.b,t=l.g,l=l.r),null==t&&e.is(l,V)){var r=e.getRGB(l);l=r.r,t=r.g,i=r.b}return(l>1||t>1||i>1)&&(l/=255,t/=255,i/=255),[l,t,i]},St=function(l,t,i,r){l*=255,t*=255,i*=255;var n={r:l,g:t,b:i,hex:e.rgb(l,t,i),toString:kt};return e.is(r,"finite")&&(n.opacity=r),n};e.color=function(l){var t;return e.is(l,"object")&&"h"in l&&"s"in l&&"b"in l?(t=e.hsb2rgb(l),l.r=t.r,l.g=t.g,l.b=t.b,l.hex=t.hex):e.is(l,"object")&&"h"in l&&"s"in l&&"l"in l?(t=e.hsl2rgb(l),l.r=t.r,l.g=t.g,l.b=t.b,l.hex=t.hex):(e.is(l,"string")&&(l=e.getRGB(l)),e.is(l,"object")&&"r"in l&&"g"in l&&"b"in l?(t=e.rgb2hsl(l),l.h=t.h,l.s=t.s,l.l=t.l,t=e.rgb2hsb(l),l.v=t.b):(l={hex:"none"},l.r=l.g=l.b=l.h=l.s=l.v=l.l=-1)),l.toString=kt,l},e.hsb2rgb=function(l,t,e,i){this.is(l,"object")&&"h"in l&&"s"in l&&"b"in l&&(e=l.b,t=l.s,l=l.h,i=l.o),l*=360;var r,n,a,s,o;return l=l%360/60,o=e*t,s=o*(1-j(l%2-1)),r=n=a=e-o,l=~~l,r+=[o,s,0,0,s,o][l],n+=[s,o,o,s,0,0][l],a+=[0,0,s,o,o,s][l],St(r,n,a,i)},e.hsl2rgb=function(l,t,e,i){this.is(l,"object")&&"h"in l&&"s"in l&&"l"in l&&(e=l.l,t=l.s,l=l.h),(l>1||t>1||e>1)&&(l/=360,t/=100,e/=100),l*=360;var r,n,a,s,o;return l=l%360/60,o=2*t*(.5>e?e:1-e),s=o*(1-j(l%2-1)),r=n=a=e-o/2,l=~~l,r+=[o,s,0,0,s,o][l],n+=[s,o,o,s,0,0][l],a+=[0,0,s,o,o,s][l],St(r,n,a,i)},e.rgb2hsb=function(l,t,e){e=Ct(l,t,e),l=e[0],t=e[1],e=e[2];var i,r,n,a;return n=G(l,t,e),a=n-D(l,t,e),i=0==a?null:n==l?(t-e)/a:n==t?(e-l)/a+2:(l-t)/a+4,i=60*((i+360)%6)/360,r=0==a?0:a/n,{h:i,s:r,b:n,toString:bt}},e.rgb2hsl=function(l,t,e){e=Ct(l,t,e),l=e[0],t=e[1],e=e[2];var i,r,n,a,s,o;return a=G(l,t,e),s=D(l,t,e),o=a-s,i=0==o?null:a==l?(t-e)/o:a==t?(e-l)/o+2:(l-t)/o+4,i=60*((i+360)%6)/360,n=(a+s)/2,r=0==o?0:.5>n?o/(2*n):o/(2-2*n),{h:i,s:r,l:n,toString:wt}},e._path2string=function(){return this.join(",").replace(at,"$1")},e._preload=function(l,t){var e=L.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top:-9999em",e.onload=function(){t.call(this),this.onload=null,L.doc.body.removeChild(this)},e.onerror=function(){L.doc.body.removeChild(this)},L.doc.body.appendChild(e),e.src=l},e.getRGB=n(function(l){if(!l||(l=I(l)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==l)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(nt[S](l.toLowerCase().substring(0,2))||"#"==l.charAt())&&(l=_t(l));var t,i,r,n,s,o,h=l.match(H);return h?(h[2]&&(r=lt(h[2].substring(5),16),i=lt(h[2].substring(3,5),16),t=lt(h[2].substring(1,3),16)),h[3]&&(r=lt((s=h[3].charAt(3))+s,16),i=lt((s=h[3].charAt(2))+s,16),t=lt((s=h[3].charAt(1))+s,16)),h[4]&&(o=h[4][N](rt),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),i=J(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),r=J(o[2]),"%"==o[2].slice(-1)&&(r*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100)),h[5]?(o=h[5][N](rt),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),i=J(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),r=J(o[2]),"%"==o[2].slice(-1)&&(r*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(t/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),e.hsb2rgb(t,i,r,n)):h[6]?(o=h[6][N](rt),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),i=J(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),r=J(o[2]),"%"==o[2].slice(-1)&&(r*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(t/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),e.hsl2rgb(t,i,r,n)):(h={r:t,g:i,b:r,toString:a},h.hex="#"+(16777216|r|i<<8|t<<16).toString(16).slice(1),e.is(n,"finite")&&(h.opacity=n),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(l,t,i){return e.hsb2rgb(l,t,i).hex}),e.hsl=n(function(l,t,i){return e.hsl2rgb(l,t,i).hex}),e.rgb=n(function(l,t,e){return"#"+(16777216|e|t<<8|l<<16).toString(16).slice(1)}),e.getColor=function(l){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:l||.75},e=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,0>=t.s&&(this.getColor.start={h:0,s:1,b:t.b})),e.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(l){if(!l)return null;var t=Lt(l);if(t.arr)return Tt(t.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(l,Z)&&e.is(l[0],Z)&&(r=Tt(l)),r.length||I(l).replace(st,function(l,t,e){var n=[],a=t.toLowerCase();if(e.replace(ht,function(l,t){t&&n.push(+t)}),"m"==a&&n.length>2&&(r.push([t][B](n.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)r.push([t][B](n));else for(;n.length>=i[a]&&(r.push([t][B](n.splice(0,i[a]))),i[a]););}),r.toString=e._path2string,t.arr=Tt(r),r},e.parseTransformString=n(function(l){if(!l)return null;var t=[];return e.is(l,Z)&&e.is(l[0],Z)&&(t=Tt(l)),t.length||I(l).replace(ot,function(l,e,i){var r=[];Y.call(e),i.replace(ht,function(l,t){t&&r.push(+t)}),t.push([e][B](r))}),t.toString=e._path2string,t});var Lt=function(l){var t=Lt.ps=Lt.ps||{};return t[l]?t[l].sleep=100:t[l]={sleep:100},setTimeout(function(){for(var e in t)t[S](e)&&e!=l&&(t[e].sleep--,!t[e].sleep&&delete t[e])}),t[l]};e.findDotsAtSegment=function(l,t,e,i,r,n,a,s,o){var h=1-o,c=O(h,3),x=O(h,2),y=o*o,u=y*o,f=c*l+3*x*o*e+3*h*o*o*r+u*a,d=c*t+3*x*o*i+3*h*o*o*n+u*s,p=l+2*o*(e-l)+y*(r-2*e+l),v=t+2*o*(i-t)+y*(n-2*i+t),g=e+2*o*(r-e)+y*(a-2*r+e),m=i+2*o*(n-i)+y*(s-2*n+i),_=h*l+o*e,b=h*t+o*i,w=h*r+o*a,k=h*n+o*s,C=90-180*X.atan2(p-g,v-m)/q;return(p>g||m>v)&&(C+=180),{x:f,y:d,m:{x:p,y:v},n:{x:g,y:m},start:{x:_,y:b},end:{x:w,y:k},alpha:C}},e.bezierBBox=function(l,t,i,r,n,a,s,o){e.is(l,"array")||(l=[l,t,i,r,n,a,s,o]);var h=Nt.apply(null,l);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(l,t,e){return t>=l.x&&l.x2>=t&&e>=l.y&&l.y2>=e},e.isBBoxIntersect=function(l,t){var i=e.isPointInsideBBox;return i(t,l.x,l.y)||i(t,l.x2,l.y)||i(t,l.x,l.y2)||i(t,l.x2,l.y2)||i(l,t.x,t.y)||i(l,t.x2,t.y)||i(l,t.x,t.y2)||i(l,t.x2,t.y2)||(l.x<t.x2&&l.x>t.x||t.x<l.x2&&t.x>l.x)&&(l.y<t.y2&&l.y>t.y||t.y<l.y2&&t.y>l.y)},e.pathIntersection=function(l,t){return u(l,t)},e.pathIntersectionNumber=function(l,t){return u(l,t,1)},e.isPointInsidePath=function(l,t,i){var r=e.pathBBox(l);return e.isPointInsideBBox(r,t,i)&&1==u(l,[["M",t,i],["H",r.x2+10]],1)%2},e._removedFactory=function(l){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+l+"” of removed object",l)}};var At=e.pathBBox=function(l){var t=Lt(l);if(t.bbox)return i(t.bbox);if(!l)return{x:0,y:0,width:0,height:0,x2:0,y2:0};l=Rt(l);for(var e,r=0,n=0,a=[],s=[],o=0,h=l.length;h>o;o++)if(e=l[o],"M"==e[0])r=e[1],n=e[2],a.push(r),s.push(n);else{var c=Nt(r,n,e[1],e[2],e[3],e[4],e[5],e[6]);a=a[B](c.min.x,c.max.x),s=s[B](c.min.y,c.max.y),r=e[5],n=e[6]}var x=D[M](0,a),y=D[M](0,s),u=G[M](0,a),f=G[M](0,s),d=u-x,p=f-y,v={x:x,y:y,x2:u,y2:f,width:d,height:p,cx:x+d/2,cy:y+p/2};return t.bbox=i(v),v},Tt=function(l){var t=i(l);return t.toString=e._path2string,t},Mt=e._pathToRelative=function(l){var t=Lt(l);if(t.rel)return Tt(t.rel);e.is(l,Z)&&e.is(l&&l[0],Z)||(l=e.parsePathString(l));var i=[],r=0,n=0,a=0,s=0,o=0;"M"==l[0][0]&&(r=l[0][1],n=l[0][2],a=r,s=n,o++,i.push(["M",r,n]));for(var h=o,c=l.length;c>h;h++){var x=i[h]=[],y=l[h];if(y[0]!=Y.call(y[0]))switch(x[0]=Y.call(y[0]),x[0]){case"a":x[1]=y[1],x[2]=y[2],x[3]=y[3],x[4]=y[4],x[5]=y[5],x[6]=+(y[6]-r).toFixed(3),x[7]=+(y[7]-n).toFixed(3);break;case"v":x[1]=+(y[1]-n).toFixed(3);break;case"m":a=y[1],s=y[2];default:for(var u=1,f=y.length;f>u;u++)x[u]=+(y[u]-(u%2?r:n)).toFixed(3)}else{x=i[h]=[],"m"==y[0]&&(a=y[1]+r,s=y[2]+n);for(var d=0,p=y.length;p>d;d++)i[h][d]=y[d]}var v=i[h].length;switch(i[h][0]){case"z":r=a,n=s;break;case"h":r+=+i[h][v-1];break;case"v":n+=+i[h][v-1];break;default:r+=+i[h][v-2],n+=+i[h][v-1]}}return i.toString=e._path2string,t.rel=Tt(i),i},Bt=e._pathToAbsolute=function(l){var t=Lt(l);if(t.abs)return Tt(t.abs);if(e.is(l,Z)&&e.is(l&&l[0],Z)||(l=e.parsePathString(l)),!l||!l.length)return[["M",0,0]];var i=[],r=0,n=0,a=0,o=0,h=0;"M"==l[0][0]&&(r=+l[0][1],n=+l[0][2],a=r,o=n,h++,i[0]=["M",r,n]);for(var c,x,y=3==l.length&&"M"==l[0][0]&&"R"==l[1][0].toUpperCase()&&"Z"==l[2][0].toUpperCase(),u=h,f=l.length;f>u;u++){if(i.push(c=[]),x=l[u],x[0]!=tt.call(x[0]))switch(c[0]=tt.call(x[0]),c[0]){case"A":c[1]=x[1],c[2]=x[2],c[3]=x[3],c[4]=x[4],c[5]=x[5],c[6]=+(x[6]+r),c[7]=+(x[7]+n);break;case"V":c[1]=+x[1]+n;break;case"H":c[1]=+x[1]+r;break;case"R":for(var d=[r,n][B](x.slice(1)),p=2,v=d.length;v>p;p++)d[p]=+d[p]+r,d[++p]=+d[p]+n;i.pop(),i=i[B](s(d,y));break;case"M":a=+x[1]+r,o=+x[2]+n;default:for(p=1,v=x.length;v>p;p++)c[p]=+x[p]+(p%2?r:n)}else if("R"==x[0])d=[r,n][B](x.slice(1)),i.pop(),i=i[B](s(d,y)),c=["R"][B](x.slice(-2));else for(var g=0,m=x.length;m>g;g++)c[g]=x[g];switch(c[0]){case"Z":r=a,n=o;break;case"H":r=c[1];break;case"V":n=c[1];break;case"M":a=c[c.length-2],o=c[c.length-1];default:r=c[c.length-2],n=c[c.length-1]}}return i.toString=e._path2string,t.abs=Tt(i),i},Et=function(l,t,e,i){return[l,t,e,i,e,i]},Pt=function(l,t,e,i,r,n){var a=1/3,s=2/3;return[a*l+s*e,a*t+s*i,a*r+s*e,a*n+s*i,r,n]},zt=function(l,t,e,i,r,a,s,o,h,c){var x,y=120*q/180,u=q/180*(+r||0),f=[],d=n(function(l,t,e){var i=l*X.cos(e)-t*X.sin(e),r=l*X.sin(e)+t*X.cos(e);return{x:i,y:r}});if(c)C=c[0],S=c[1],w=c[2],k=c[3];else{x=d(l,t,-u),l=x.x,t=x.y,x=d(o,h,-u),o=x.x,h=x.y;var p=(X.cos(q/180*r),X.sin(q/180*r),(l-o)/2),v=(t-h)/2,g=p*p/(e*e)+v*v/(i*i);g>1&&(g=X.sqrt(g),e=g*e,i=g*i);var m=e*e,_=i*i,b=(a==s?-1:1)*X.sqrt(j((m*_-m*v*v-_*p*p)/(m*v*v+_*p*p))),w=b*e*v/i+(l+o)/2,k=b*-i*p/e+(t+h)/2,C=X.asin(((t-k)/i).toFixed(9)),S=X.asin(((h-k)/i).toFixed(9));C=w>l?q-C:C,S=w>o?q-S:S,0>C&&(C=2*q+C),0>S&&(S=2*q+S),s&&C>S&&(C-=2*q),!s&&S>C&&(S-=2*q)}var L=S-C;if(j(L)>y){var A=S,T=o,M=h;S=C+y*(s&&S>C?1:-1),o=w+e*X.cos(S),h=k+i*X.sin(S),f=zt(o,h,e,i,r,0,s,T,M,[S,A,w,k])}L=S-C;var E=X.cos(C),P=X.sin(C),z=X.cos(S),I=X.sin(S),R=X.tan(L/4),F=4/3*e*R,Y=4/3*i*R,G=[l,t],D=[l+F*P,t-Y*E],O=[o+F*I,h-Y*z],$=[o,h];if(D[0]=2*G[0]-D[0],D[1]=2*G[1]-D[1],c)return[D,O,$][B](f);f=[D,O,$][B](f).join()[N](",");for(var V=[],Z=0,U=f.length;U>Z;Z++)V[Z]=Z%2?d(f[Z-1],f[Z],u).y:d(f[Z],f[Z+1],u).x;return V},It=function(l,t,e,i,r,n,a,s,o){var h=1-o;return{x:O(h,3)*l+3*O(h,2)*o*e+3*h*o*o*r+O(o,3)*a,y:O(h,3)*t+3*O(h,2)*o*i+3*h*o*o*n+O(o,3)*s}},Nt=n(function(l,t,e,i,r,n,a,s){var o,h=r-2*e+l-(a-2*r+e),c=2*(e-l)-2*(r-e),x=l-e,y=(-c+X.sqrt(c*c-4*h*x))/2/h,u=(-c-X.sqrt(c*c-4*h*x))/2/h,f=[t,s],d=[l,a];return j(y)>"1e12"&&(y=.5),j(u)>"1e12"&&(u=.5),y>0&&1>y&&(o=It(l,t,e,i,r,n,a,s,y),d.push(o.x),f.push(o.y)),u>0&&1>u&&(o=It(l,t,e,i,r,n,a,s,u),d.push(o.x),f.push(o.y)),h=n-2*i+t-(s-2*n+i),c=2*(i-t)-2*(n-i),x=t-i,y=(-c+X.sqrt(c*c-4*h*x))/2/h,u=(-c-X.sqrt(c*c-4*h*x))/2/h,j(y)>"1e12"&&(y=.5),j(u)>"1e12"&&(u=.5),y>0&&1>y&&(o=It(l,t,e,i,r,n,a,s,y),d.push(o.x),f.push(o.y)),u>0&&1>u&&(o=It(l,t,e,i,r,n,a,s,u),d.push(o.x),f.push(o.y)),{min:{x:D[M](0,d),y:D[M](0,f)},max:{x:G[M](0,d),y:G[M](0,f)}}}),Rt=e._path2curve=n(function(l,t){var e=!t&&Lt(l);if(!t&&e.curve)return Tt(e.curve);for(var i=Bt(l),r=t&&Bt(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(l,t,e){var i,r;if(!l)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(l[0]in{T:1,Q:1})&&(t.qx=t.qy=null),l[0]){case"M":t.X=l[1],t.Y=l[2];break;case"A":l=["C"][B](zt[M](0,[t.x,t.y][B](l.slice(1))));break;case"S":"C"==e||"S"==e?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),l=["C",i,r][B](l.slice(1));break;case"T":"Q"==e||"T"==e?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),l=["C"][B](Pt(t.x,t.y,t.qx,t.qy,l[1],l[2]));break;case"Q":t.qx=l[1],t.qy=l[2],l=["C"][B](Pt(t.x,t.y,l[1],l[2],l[3],l[4]));break;case"L":l=["C"][B](Et(t.x,t.y,l[1],l[2]));break;case"H":l=["C"][B](Et(t.x,t.y,l[1],t.y));break;case"V":l=["C"][B](Et(t.x,t.y,t.x,l[1]));break;case"Z":l=["C"][B](Et(t.x,t.y,t.X,t.Y))}return l}),o=function(l,t){if(l[t].length>7){l[t].shift();for(var e=l[t];e.length;)c[t]="A",r&&(x[t]="A"),l.splice(t++,0,["C"][B](e.splice(0,6)));l.splice(t,1),d=G(i.length,r&&r.length||0)}},h=function(l,t,e,n,a){l&&t&&"M"==l[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",n.x,n.y]),e.bx=0,e.by=0,e.x=l[a][1],e.y=l[a][2],d=G(i.length,r&&r.length||0))},c=[],x=[],y="",u="",f=0,d=G(i.length,r&&r.length||0);d>f;f++){i[f]&&(y=i[f][0]),"C"!=y&&(c[f]=y,f&&(u=c[f-1])),i[f]=s(i[f],n,u),"A"!=c[f]&&"C"==y&&(c[f]="C"),o(i,f),r&&(r[f]&&(y=r[f][0]),"C"!=y&&(x[f]=y,f&&(u=x[f-1])),r[f]=s(r[f],a,u),"A"!=x[f]&&"C"==y&&(x[f]="C"),o(r,f)),h(i,r,n,a,f),h(r,i,a,n,f);var p=i[f],v=r&&r[f],g=p.length,m=r&&v.length;n.x=p[g-2],n.y=p[g-1],n.bx=J(p[g-4])||n.x,n.by=J(p[g-3])||n.y,a.bx=r&&(J(v[m-4])||a.x),a.by=r&&(J(v[m-3])||a.y),a.x=r&&v[m-2],a.y=r&&v[m-1]}return r||(e.curve=Tt(i)),r?[i,r]:i},null,Tt),Ft=(e._parseDots=n(function(l){for(var t=[],i=0,r=l.length;r>i;i++){var n={},a=l[i].match(/^([^:]*):?([\d\.]*)/);if(n.color=e.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),t.push(n)}for(i=1,r=t.length-1;r>i;i++)if(!t[i].offset){for(var s=J(t[i-1].offset||0),o=0,h=i+1;r>h;h++)if(t[h].offset){o=t[h].offset;break}o||(o=100,h=r),o=J(o);for(var c=(o-s)/(h-i+1);h>i;i++)s+=c,t[i].offset=s+"%"}return t}),e._tear=function(l,t){l==t.top&&(t.top=l.prev),l==t.bottom&&(t.bottom=l.next),l.next&&(l.next.prev=l.prev),l.prev&&(l.prev.next=l.next)}),Yt=(e._tofront=function(l,t){t.top!==l&&(Ft(l,t),l.next=null,l.prev=t.top,t.top.next=l,t.top=l)},e._toback=function(l,t){t.bottom!==l&&(Ft(l,t),l.next=t.bottom,l.prev=null,t.bottom.prev=l,t.bottom=l)},e._insertafter=function(l,t,e){Ft(l,e),t==e.top&&(e.top=l),t.next&&(t.next.prev=l),l.next=t.next,l.prev=t,t.next=l},e._insertbefore=function(l,t,e){Ft(l,e),t==e.bottom&&(e.bottom=l),t.prev&&(t.prev.next=l),l.prev=t.prev,t.prev=l,l.next=t},e.toMatrix=function(l,t){var e=At(l),i={_:{transform:P},getBBox:function(){return e}};return Xt(i,t),i.matrix}),Xt=(e.transformPath=function(l,t){return vt(l,Yt(l,t))},e._extractTransform=function(l,t){if(null==t)return l._.transform;t=I(t).replace(/\.{3}|\u2026/g,l._.transform||P);var i=e.parseTransformString(t),r=0,n=0,a=0,s=1,o=1,h=l._,c=new f;if(h.transform=i||[],i)for(var x=0,y=i.length;y>x;x++){var u,d,p,v,g,m=i[x],_=m.length,b=I(m[0]).toLowerCase(),w=m[0]!=b,k=w?c.invert():0;"t"==b&&3==_?w?(u=k.x(0,0),d=k.y(0,0),p=k.x(m[1],m[2]),v=k.y(m[1],m[2]),c.translate(p-u,v-d)):c.translate(m[1],m[2]):"r"==b?2==_?(g=g||l.getBBox(1),c.rotate(m[1],g.x+g.width/2,g.y+g.height/2),r+=m[1]):4==_&&(w?(p=k.x(m[2],m[3]),v=k.y(m[2],m[3]),c.rotate(m[1],p,v)):c.rotate(m[1],m[2],m[3]),r+=m[1]):"s"==b?2==_||3==_?(g=g||l.getBBox(1),c.scale(m[1],m[_-1],g.x+g.width/2,g.y+g.height/2),s*=m[1],o*=m[_-1]):5==_&&(w?(p=k.x(m[3],m[4]),v=k.y(m[3],m[4]),c.scale(m[1],m[2],p,v)):c.scale(m[1],m[2],m[3],m[4]),s*=m[1],o*=m[2]):"m"==b&&7==_&&c.add(m[1],m[2],m[3],m[4],m[5],m[6]),h.dirtyT=1,l.matrix=c}l.matrix=c,h.sx=s,h.sy=o,h.deg=r,h.dx=n=c.e,h.dy=a=c.f,1==s&&1==o&&!r&&h.bbox?(h.bbox.x+=+n,h.bbox.y+=+a):h.dirtyT=1}),Gt=function(l){var t=l[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==l.length?[t,0,l[2],l[3]]:[t,0];case"s":return 5==l.length?[t,1,1,l[3],l[4]]:3==l.length?[t,1,1]:[t,1]}},Dt=e._equaliseTransform=function(l,t){t=I(t).replace(/\.{3}|\u2026/g,l),l=e.parseTransformString(l)||[],t=e.parseTransformString(t)||[];for(var i,r,n,a,s=G(l.length,t.length),o=[],h=[],c=0;s>c;c++){if(n=l[c]||Gt(t[c]),a=t[c]||Gt(n),n[0]!=a[0]||"r"==n[0].toLowerCase()&&(n[2]!=a[2]||n[3]!=a[3])||"s"==n[0].toLowerCase()&&(n[3]!=a[3]||n[4]!=a[4]))return;
for(o[c]=[],h[c]=[],i=0,r=G(n.length,a.length);r>i;i++)i in n&&(o[c][i]=n[i]),i in a&&(h[c][i]=a[i])}return{from:o,to:h}};e._getContainer=function(l,t,i,r){var n;return n=null!=r||e.is(l,"object")?l:L.doc.getElementById(l),null!=n?n.tagName?null==t?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:t,height:i}:{container:1,x:l,y:t,width:i,height:r}:void 0},e.pathToRelative=Mt,e._engine={},e.path2curve=Rt,e.matrix=function(l,t,e,i,r,n){return new f(l,t,e,i,r,n)},function(l){function t(l){return l[0]*l[0]+l[1]*l[1]}function i(l){var e=X.sqrt(t(l));l[0]&&(l[0]/=e),l[1]&&(l[1]/=e)}l.add=function(l,t,e,i,r,n){var a,s,o,h,c=[[],[],[]],x=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],y=[[l,e,r],[t,i,n],[0,0,1]];for(l&&l instanceof f&&(y=[[l.a,l.c,l.e],[l.b,l.d,l.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(h=0,o=0;3>o;o++)h+=x[a][o]*y[o][s];c[a][s]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},l.invert=function(){var l=this,t=l.a*l.d-l.b*l.c;return new f(l.d/t,-l.b/t,-l.c/t,l.a/t,(l.c*l.f-l.d*l.e)/t,(l.b*l.e-l.a*l.f)/t)},l.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},l.translate=function(l,t){this.add(1,0,0,1,l,t)},l.scale=function(l,t,e,i){null==t&&(t=l),(e||i)&&this.add(1,0,0,1,e,i),this.add(l,0,0,t,0,0),(e||i)&&this.add(1,0,0,1,-e,-i)},l.rotate=function(l,t,i){l=e.rad(l),t=t||0,i=i||0;var r=+X.cos(l).toFixed(9),n=+X.sin(l).toFixed(9);this.add(r,n,-n,r,t,i),this.add(1,0,0,1,-t,-i)},l.x=function(l,t){return l*this.a+t*this.c+this.e},l.y=function(l,t){return l*this.b+t*this.d+this.f},l.get=function(l){return+this[I.fromCharCode(97+l)].toFixed(4)},l.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},l.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},l.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},l.split=function(){var l={};l.dx=this.e,l.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];l.scalex=X.sqrt(t(r[0])),i(r[0]),l.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*l.shear,r[1][1]-r[0][1]*l.shear],l.scaley=X.sqrt(t(r[1])),i(r[1]),l.shear/=l.scaley;var n=-r[0][1],a=r[1][1];return 0>a?(l.rotate=e.deg(X.acos(a)),0>n&&(l.rotate=360-l.rotate)):l.rotate=e.deg(X.asin(n)),l.isSimple=!(+l.shear.toFixed(9)||l.scalex.toFixed(9)!=l.scaley.toFixed(9)&&l.rotate),l.isSuperSimple=!+l.shear.toFixed(9)&&l.scalex.toFixed(9)==l.scaley.toFixed(9)&&!l.rotate,l.noRotation=!+l.shear.toFixed(9)&&!l.rotate,l},l.toTransformString=function(l){var t=l||this[N]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:P)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:P)+(t.rotate?"r"+[t.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var jt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);b.safari="Apple Computer, Inc."==navigator.vendor&&(jt&&4>jt[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&jt&&8>jt[1]?function(){var l=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){l.remove()})}:yt;for(var Ot=function(){this.returnValue=!1},qt=function(){return this.originalEvent.preventDefault()},$t=function(){this.cancelBubble=!0},Vt=function(){return this.originalEvent.stopPropagation()},Zt=function(l){var t=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,e=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;return{x:l.clientX+e,y:l.clientY+t}},Ut=function(){return L.doc.addEventListener?function(l,t,e,i){var r=function(l){var t=Zt(l);return e.call(i,l,t.x,t.y)};if(l.addEventListener(t,r,!1),E&&F[t]){var n=function(t){for(var r=Zt(t),n=t,a=0,s=t.targetTouches&&t.targetTouches.length;s>a;a++)if(t.targetTouches[a].target==l){t=t.targetTouches[a],t.originalEvent=n,t.preventDefault=qt,t.stopPropagation=Vt;break}return e.call(i,t,r.x,r.y)};l.addEventListener(F[t],n,!1)}return function(){return l.removeEventListener(t,r,!1),E&&F[t]&&l.removeEventListener(F[t],n,!1),!0}}:L.doc.attachEvent?function(l,t,e,i){var r=function(l){l=l||L.win.event;var t=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,r=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,n=l.clientX+r,a=l.clientY+t;return l.preventDefault=l.preventDefault||Ot,l.stopPropagation=l.stopPropagation||$t,e.call(i,l,n,a)};l.attachEvent("on"+t,r);var n=function(){return l.detachEvent("on"+t,r),!0};return n}:void 0}(),Ht=[],Wt=function(l){for(var e,i=l.clientX,r=l.clientY,n=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,a=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,s=Ht.length;s--;){if(e=Ht[s],E&&l.touches){for(var o,h=l.touches.length;h--;)if(o=l.touches[h],o.identifier==e.el._drag.id){i=o.clientX,r=o.clientY,(l.originalEvent?l.originalEvent:l).preventDefault();break}}else l.preventDefault();var c,x=e.el.node,y=x.nextSibling,u=x.parentNode,f=x.style.display;L.win.opera&&u.removeChild(x),x.style.display="none",c=e.el.paper.getElementByPoint(i,r),x.style.display=f,L.win.opera&&(y?u.insertBefore(x,y):u.appendChild(x)),c&&t("raphael.drag.over."+e.el.id,e.el,c),i+=a,r+=n,t("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,r-e.el._drag.y,i,r,l)}},Kt=function(l){e.unmousemove(Wt).unmouseup(Kt);for(var i,r=Ht.length;r--;)i=Ht[r],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,l);Ht=[]},Qt=e.el={},Jt=R.length;Jt--;)(function(l){e[l]=Qt[l]=function(t,i){return e.is(t,"function")&&(this.events=this.events||[],this.events.push({name:l,f:t,unbind:Ut(this.shape||this.node||L.doc,l,t,i||this)})),this},e["un"+l]=Qt["un"+l]=function(t){for(var i=this.events||[],r=i.length;r--;)i[r].name!=l||!e.is(t,"undefined")&&i[r].f!=t||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}})(R[Jt]);Qt.data=function(l,i){var r=ct[this.id]=ct[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(l,"object")){for(var n in l)l[S](n)&&this.data(n,l[n]);return this}return t("raphael.data.get."+this.id,this,r[l],l),r[l]}return r[l]=i,t("raphael.data.set."+this.id,this,i,l),this},Qt.removeData=function(l){return null==l?ct[this.id]={}:ct[this.id]&&delete ct[this.id][l],this},Qt.getData=function(){return i(ct[this.id]||{})},Qt.hover=function(l,t,e,i){return this.mouseover(l,e).mouseout(t,i||e)},Qt.unhover=function(l,t){return this.unmouseover(l).unmouseout(t)};var le=[];Qt.drag=function(l,i,r,n,a,s){function o(o){(o.originalEvent||o).preventDefault();var h=o.clientX,c=o.clientY,x=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,y=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;if(this._drag.id=o.identifier,E&&o.touches)for(var u,f=o.touches.length;f--;)if(u=o.touches[f],this._drag.id=u.identifier,u.identifier==this._drag.id){h=u.clientX,c=u.clientY;break}this._drag.x=h+y,this._drag.y=c+x,!Ht.length&&e.mousemove(Wt).mouseup(Kt),Ht.push({el:this,move_scope:n,start_scope:a,end_scope:s}),i&&t.on("raphael.drag.start."+this.id,i),l&&t.on("raphael.drag.move."+this.id,l),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,a||n||this,o.clientX+y,o.clientY+x,o)}return this._drag={},le.push({el:this,start:o}),this.mousedown(o),this},Qt.onDragOver=function(l){l?t.on("raphael.drag.over."+this.id,l):t.unbind("raphael.drag.over."+this.id)},Qt.undrag=function(){for(var l=le.length;l--;)le[l].el==this&&(this.unmousedown(le[l].start),le.splice(l,1),t.unbind("raphael.drag.*."+this.id));!le.length&&e.unmousemove(Wt).unmouseup(Kt),Ht=[]},b.circle=function(l,t,i){var r=e._engine.circle(this,l||0,t||0,i||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(l,t,i,r,n){var a=e._engine.rect(this,l||0,t||0,i||0,r||0,n||0);return this.__set__&&this.__set__.push(a),a},b.ellipse=function(l,t,i,r){var n=e._engine.ellipse(this,l||0,t||0,i||0,r||0);return this.__set__&&this.__set__.push(n),n},b.path=function(l){l&&!e.is(l,V)&&!e.is(l[0],Z)&&(l+=P);var t=e._engine.path(e.format[M](e,arguments),this);return this.__set__&&this.__set__.push(t),t},b.image=function(l,t,i,r,n){var a=e._engine.image(this,l||"about:blank",t||0,i||0,r||0,n||0);return this.__set__&&this.__set__.push(a),a},b.text=function(l,t,i){var r=e._engine.text(this,l||0,t||0,I(i));return this.__set__&&this.__set__.push(r),r},b.set=function(l){!e.is(l,"array")&&(l=Array.prototype.splice.call(arguments,0,arguments.length));var t=new ye(l);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},b.setStart=function(l){this.__set__=l||this.set()},b.setFinish=function(){var l=this.__set__;return delete this.__set__,l},b.setSize=function(l,t){return e._engine.setSize.call(this,l,t)},b.setViewBox=function(l,t,i,r,n){return e._engine.setViewBox.call(this,l,t,i,r,n)},b.top=b.bottom=null,b.raphael=e;var te=function(l){var t=l.getBoundingClientRect(),e=l.ownerDocument,i=e.body,r=e.documentElement,n=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0,s=t.top+(L.win.pageYOffset||r.scrollTop||i.scrollTop)-n,o=t.left+(L.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a;return{y:s,x:o}};b.getElementByPoint=function(l,t){var e=this,i=e.canvas,r=L.doc.elementFromPoint(l,t);if(L.win.opera&&"svg"==r.tagName){var n=te(i),a=i.createSVGRect();a.x=l-n.x,a.y=t-n.y,a.width=a.height=1;var s=i.getIntersectionList(a,null);s.length&&(r=s[s.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==e.canvas.parentNode&&(r=i),r=r&&r.raphael?e.getById(r.raphaelid):null},b.getElementsByBBox=function(l){var t=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),l)&&t.push(i)}),t},b.getById=function(l){for(var t=this.bottom;t;){if(t.id==l)return t;t=t.next}return null},b.forEach=function(l,t){for(var e=this.bottom;e;){if(l.call(t,e)===!1)return this;e=e.next}return this},b.getElementsByPoint=function(l,t){var e=this.set();return this.forEach(function(i){i.isPointInside(l,t)&&e.push(i)}),e},Qt.isPointInside=function(l,t){var i=this.realPath=pt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,l,t)},Qt.getBBox=function(l){if(this.removed)return{};var t=this._;return l?((t.dirty||!t.bboxwt)&&(this.realPath=pt[this.type](this),t.bboxwt=At(this.realPath),t.bboxwt.toString=d,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=pt[this.type](this)),t.bbox=At(vt(this.realPath,this.matrix)),t.bbox.toString=d,t.dirty=t.dirtyT=0),t.bbox)},Qt.clone=function(){if(this.removed)return null;var l=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(l),l},Qt.glow=function(l){if("text"==this.type)return null;l=l||{};var t={width:(l.width||10)+(+this.attr("stroke-width")||1),fill:l.fill||!1,opacity:l.opacity||.5,offsetx:l.offsetx||0,offsety:l.offsety||0,color:l.color||"#000"},e=t.width/2,i=this.paper,r=i.set(),n=this.realPath||pt[this.type](this);n=this.matrix?vt(n,this.matrix):n;for(var a=1;e+1>a;a++)r.push(i.path(n).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/e*a).toFixed(3),opacity:+(t.opacity/e).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var ee=function(l,t,i,r,n,a,s,o,x){return null==x?h(l,t,i,r,n,a,s,o):e.findDotsAtSegment(l,t,i,r,n,a,s,o,c(l,t,i,r,n,a,s,o,x))},ie=function(l,t){return function(i,r,n){i=Rt(i);for(var a,s,o,h,c,x="",y={},u=0,f=0,d=i.length;d>f;f++){if(o=i[f],"M"==o[0])a=+o[1],s=+o[2];else{if(h=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6]),u+h>r){if(t&&!y.start){if(c=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6],r-u),x+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],n)return x;y.start=x,x=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,o[5],o[6]].join(),u+=h,a=+o[5],s=+o[6];continue}if(!l&&!t)return c=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6],r-u),{x:c.x,y:c.y,alpha:c.alpha}}u+=h,a=+o[5],s=+o[6]}x+=o.shift()+o}return y.end=x,c=l?u:t?y:e.findDotsAtSegment(a,s,o[0],o[1],o[2],o[3],o[4],o[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},re=ie(1),ne=ie(),ae=ie(0,1);e.getTotalLength=re,e.getPointAtLength=ne,e.getSubpath=function(l,t,e){if(1e-6>this.getTotalLength(l)-e)return ae(l,t).end;var i=ae(l,e,1);return t?ae(i,t).end:i},Qt.getTotalLength=function(){var l=this.getPath();if(l)return this.node.getTotalLength?this.node.getTotalLength():re(l)},Qt.getPointAtLength=function(l){var t=this.getPath();if(t)return ne(t,l)},Qt.getPath=function(){var l,t=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(l=t(this)),l},Qt.getSubpath=function(l,t){var i=this.getPath();if(i)return e.getSubpath(i,l,t)};var se=e.easing_formulas={linear:function(l){return l},"<":function(l){return O(l,1.7)},">":function(l){return O(l,.48)},"<>":function(l){var t=.48-l/1.04,e=X.sqrt(.1734+t*t),i=e-t,r=O(j(i),1/3)*(0>i?-1:1),n=-e-t,a=O(j(n),1/3)*(0>n?-1:1),s=r+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(l){var t=1.70158;return l*l*((t+1)*l-t)},backOut:function(l){l-=1;var t=1.70158;return l*l*((t+1)*l+t)+1},elastic:function(l){return l==!!l?l:O(2,-10*l)*X.sin((l-.075)*2*q/.3)+1},bounce:function(l){var t,e=7.5625,i=2.75;return 1/i>l?t=e*l*l:2/i>l?(l-=1.5/i,t=e*l*l+.75):2.5/i>l?(l-=2.25/i,t=e*l*l+.9375):(l-=2.625/i,t=e*l*l+.984375),t}};se.easeIn=se["ease-in"]=se["<"],se.easeOut=se["ease-out"]=se[">"],se.easeInOut=se["ease-in-out"]=se["<>"],se["back-in"]=se.backIn,se["back-out"]=se.backOut;var oe=[],he=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(l){setTimeout(l,16)},ce=function(){for(var l=+new Date,i=0;oe.length>i;i++){var r=oe[i];if(!r.el.removed&&!r.paused){var n,a,s=l-r.start,o=r.ms,h=r.easing,c=r.from,x=r.diff,y=r.to,u=(r.t,r.el),f={},d={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*o,r.status=r.initstatus,delete r.initstatus,r.stop&&oe.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/o))/r.anim.top,!(0>s))if(o>s){var p=h(s/o);for(var v in c)if(c[S](v)){switch(it[v]){case $:n=+c[v]+p*o*x[v];break;case"colour":n="rgb("+[xe(Q(c[v].r+p*o*x[v].r)),xe(Q(c[v].g+p*o*x[v].g)),xe(Q(c[v].b+p*o*x[v].b))].join(",")+")";break;case"path":n=[];for(var m=0,_=c[v].length;_>m;m++){n[m]=[c[v][m][0]];for(var b=1,w=c[v][m].length;w>b;b++)n[m][b]=+c[v][m][b]+p*o*x[v][m][b];n[m]=n[m].join(z)}n=n.join(z);break;case"transform":if(x[v].real)for(n=[],m=0,_=c[v].length;_>m;m++)for(n[m]=[c[v][m][0]],b=1,w=c[v][m].length;w>b;b++)n[m][b]=c[v][m][b]+p*o*x[v][m][b];else{var k=function(l){return+c[v][l]+p*o*x[v][l]};n=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(n=[],m=4;m--;)n[m]=+c[v][m]+p*o*x[v][m];break;default:var C=[][B](c[v]);for(n=[],m=u.paper.customAttributes[v].length;m--;)n[m]=+C[m]+p*o*x[v][m]}f[v]=n}u.attr(f),function(l,e,i){setTimeout(function(){t("raphael.anim.frame."+l,e,i)})}(u.id,u,r.anim)}else{if(function(l,i,r){setTimeout(function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(l,"function")&&l.call(i)})}(r.callback,u,r.anim),u.attr(y),oe.splice(i--,1),r.repeat>1&&!r.next){for(a in y)y[S](a)&&(d[a]=r.totalOrigin[a]);r.el.attr(d),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}e.svg&&u&&u.paper&&u.paper.safari(),oe.length&&he(ce)},xe=function(l){return l>255?255:0>l?0:l};Qt.animateWith=function(l,t,i,r,n,a){var s=this;if(s.removed)return a&&a.call(s),s;var o=i instanceof v?i:e.animation(i,r,n,a);g(o,s,o.percents[0],null,s.attr());for(var h=0,c=oe.length;c>h;h++)if(oe[h].anim==t&&oe[h].el==l){oe[c-1].start=oe[h].start;break}return s},Qt.onAnimation=function(l){return l?t.on("raphael.anim.frame."+this.id,l):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(l){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+l||0,t},v.prototype.repeat=function(l){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=X.floor(G(l,0))||1,t},e.animation=function(l,t,i,r){if(l instanceof v)return l;(e.is(i,"function")||!i)&&(r=r||i||null,i=null),l=Object(l),t=+t||0;var n,a,s={};for(a in l)l[S](a)&&J(a)!=a&&J(a)+"%"!=a&&(n=!0,s[a]=l[a]);return n?(i&&(s.easing=i),r&&(s.callback=r),new v({100:s},t)):new v(l,t)},Qt.animate=function(l,t,i,r){var n=this;if(n.removed)return r&&r.call(n),n;var a=l instanceof v?l:e.animation(l,t,i,r);return g(a,n,a.percents[0],null,n.attr()),n},Qt.setTime=function(l,t){return l&&null!=t&&this.status(l,D(t,l.ms)/l.ms),this},Qt.status=function(l,t){var e,i,r=[],n=0;if(null!=t)return g(l,this,-1,D(t,1)),this;for(e=oe.length;e>n;n++)if(i=oe[n],i.el.id==this.id&&(!l||i.anim==l)){if(l)return i.status;r.push({anim:i.anim,status:i.status})}return l?0:r},Qt.pause=function(l){for(var e=0;oe.length>e;e++)oe[e].el.id!=this.id||l&&oe[e].anim!=l||t("raphael.anim.pause."+this.id,this,oe[e].anim)!==!1&&(oe[e].paused=!0);return this},Qt.resume=function(l){for(var e=0;oe.length>e;e++)if(oe[e].el.id==this.id&&(!l||oe[e].anim==l)){var i=oe[e];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Qt.stop=function(l){for(var e=0;oe.length>e;e++)oe[e].el.id!=this.id||l&&oe[e].anim!=l||t("raphael.anim.stop."+this.id,this,oe[e].anim)!==!1&&oe.splice(e--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Qt.toString=function(){return"Raphaël’s object"};var ye=function(l){if(this.items=[],this.length=0,this.type="set",l)for(var t=0,e=l.length;e>t;t++)!l[t]||l[t].constructor!=Qt.constructor&&l[t].constructor!=ye||(this[this.items.length]=this.items[this.items.length]=l[t],this.length++)},ue=ye.prototype;ue.push=function(){for(var l,t,e=0,i=arguments.length;i>e;e++)l=arguments[e],!l||l.constructor!=Qt.constructor&&l.constructor!=ye||(t=this.items.length,this[t]=this.items[t]=l,this.length++);return this},ue.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ue.forEach=function(l,t){for(var e=0,i=this.items.length;i>e;e++)if(l.call(t,this.items[e],e)===!1)return this;return this};for(var fe in Qt)Qt[S](fe)&&(ue[fe]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l][M](e,t)})}}(fe));return ue.attr=function(l,t){if(l&&e.is(l,Z)&&e.is(l[0],"object"))for(var i=0,r=l.length;r>i;i++)this.items[i].attr(l[i]);else for(var n=0,a=this.items.length;a>n;n++)this.items[n].attr(l,t);return this},ue.clear=function(){for(;this.length;)this.pop()},ue.splice=function(l,t){l=0>l?G(this.length+l,0):l,t=G(0,D(this.length-l,t));var e,i=[],r=[],n=[];for(e=2;arguments.length>e;e++)n.push(arguments[e]);for(e=0;t>e;e++)r.push(this[l+e]);for(;this.length-l>e;e++)i.push(this[l+e]);var a=n.length;for(e=0;a+i.length>e;e++)this.items[l+e]=this[l+e]=a>e?n[e]:i[e-a];for(e=this.items.length=this.length-=t-a;this[e];)delete this[e++];return new ye(r)},ue.exclude=function(l){for(var t=0,e=this.length;e>t;t++)if(this[t]==l)return this.splice(t,1),!0},ue.animate=function(l,t,i,r){(e.is(i,"function")||!i)&&(r=i||null);var n,a,s=this.items.length,o=s,h=this;if(!s)return this;r&&(a=function(){!--s&&r.call(h)}),i=e.is(i,V)?i:a;var c=e.animation(l,t,i,a);for(n=this.items[--o].animate(c);o--;)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(n,c,c),this.items[o]&&!this.items[o].removed||s--;return this},ue.insertAfter=function(l){for(var t=this.items.length;t--;)this.items[t].insertAfter(l);return this},ue.getBBox=function(){for(var l=[],t=[],e=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var n=this.items[r].getBBox();l.push(n.x),t.push(n.y),e.push(n.x+n.width),i.push(n.y+n.height)}return l=D[M](0,l),t=D[M](0,t),e=G[M](0,e),i=G[M](0,i),{x:l,y:t,x2:e,y2:i,width:e-l,height:i-t}},ue.clone=function(l){l=this.paper.set();for(var t=0,e=this.items.length;e>t;t++)l.push(this.items[t].clone());return l},ue.toString=function(){return"Raphaël‘s set"},ue.glow=function(l){var t=this.paper.set();return this.forEach(function(e){var i=e.glow(l);null!=i&&i.forEach(function(l){t.push(l)})}),t},ue.isPointInside=function(l,t){var e=!1;return this.forEach(function(i){return i.isPointInside(l,t)?(console.log("runned"),e=!0,!1):void 0}),e},e.registerFont=function(l){if(!l.face)return l;this.fonts=this.fonts||{};var t={w:l.w,face:{},glyphs:{}},e=l.face["font-family"];for(var i in l.face)l.face[S](i)&&(t.face[i]=l.face[i]);if(this.fonts[e]?this.fonts[e].push(t):this.fonts[e]=[t],!l.svg){t.face["units-per-em"]=lt(l.face["units-per-em"],10);for(var r in l.glyphs)if(l.glyphs[S](r)){var n=l.glyphs[r];if(t.glyphs[r]={w:n.w,k:{},d:n.d&&"M"+n.d.replace(/[mlcxtrv]/g,function(l){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[l]||"M"})+"z"},n.k)for(var a in n.k)n[S](a)&&(t.glyphs[r].k[a]=n.k[a])}}return l},b.getFont=function(l,t,i,r){if(r=r||"normal",i=i||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,e.fonts){var n=e.fonts[l];if(!n){var a=RegExp("(^|\\s)"+l.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var s in e.fonts)if(e.fonts[S](s)&&a.test(s)){n=e.fonts[s];break}}var o;if(n)for(var h=0,c=n.length;c>h&&(o=n[h],o.face["font-weight"]!=t||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);h++);return o}},b.print=function(l,t,i,r,n,a,s,o){a=a||"middle",s=G(D(s||0,1),-1),o=G(D(o||1,3),1);var h,c=I(i)[N](P),x=0,y=0,u=P;if(e.is(r,"string")&&(r=this.getFont(r)),r){h=(n||16)/r.face["units-per-em"];for(var f=r.face.bbox[N](w),d=+f[0],p=f[3]-f[1],v=0,g=+f[1]+("baseline"==a?p+ +r.face.descent:p/2),m=0,_=c.length;_>m;m++){if("\n"==c[m])x=0,k=0,y=0,v+=p*o;else{var b=y&&r.glyphs[c[m-1]]||{},k=r.glyphs[c[m]];x+=y?(b.w||r.w)+(b.k&&b.k[c[m]]||0)+r.w*s:0,y=1}k&&k.d&&(u+=e.transformPath(k.d,["t",x*h,v*h,"s",h,h,d,g,"t",(l-d)/h,(t-g)/h]))}}return this.path(u).attr({fill:"#000",stroke:"none"})},b.add=function(l){if(e.is(l,"array"))for(var t,i=this.set(),r=0,n=l.length;n>r;r++)t=l[r]||{},k[S](t.type)&&i.push(this[t.type]().attr(t));return i},e.format=function(l,t){var i=e.is(t,Z)?[0][B](t):arguments;return l&&e.is(l,V)&&i.length-1&&(l=l.replace(C,function(l,t){return null==i[++t]?P:i[t]})),l||P},e.fullfill=function(){var l=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(l,e,i){var r=i;return e.replace(t,function(l,t,e,i,n){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&n&&(r=r()))}),r=(null==r||r==i?l:r)+""};return function(t,i){return(t+"").replace(l,function(l,t){return e(l,t,i)})}}(),e.ninja=function(){return A.was?L.win.Raphael=A.is:delete Raphael,e},e.st=ue,function(l,t,i){function r(){/in/.test(l.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}null==l.readyState&&l.addEventListener&&(l.addEventListener(t,i=function(){l.removeEventListener(t,i,!1),l.readyState="complete"},!1),l.readyState="loading"),r()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){_=!0}),function(){if(e.svg){var l="hasOwnProperty",t=String,i=parseFloat,r=parseInt,n=Math,a=n.max,s=n.abs,o=n.pow,h=/[, ]+/,c=e.eve,x="",y=" ",u="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},d={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var p=function(i,r){if(r){"string"==typeof i&&(i=p(i));for(var n in r)r[l](n)&&("xlink:"==n.substring(0,6)?i.setAttributeNS(u,n.substring(6),t(r[n])):i.setAttribute(n,t(r[n])))}else i=e._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(l,r){var h="linear",c=l.id+r,y=.5,u=.5,f=l.node,d=l.paper,v=f.style,g=e._g.doc.getElementById(c);if(!g){if(r=t(r).replace(e._radial_gradient,function(l,t,e){if(h="radial",t&&e){y=i(t),u=i(e);var r=2*(u>.5)-1;o(y-.5,2)+o(u-.5,2)>.25&&(u=n.sqrt(.25-o(y-.5,2))*r+.5)&&.5!=u&&(u=u.toFixed(5)-1e-5*r)}return x}),r=r.split(/\s*\-\s*/),"linear"==h){var m=r.shift();if(m=-i(m),isNaN(m))return null;var _=[0,0,n.cos(e.rad(m)),n.sin(e.rad(m))],b=1/(a(s(_[2]),s(_[3]))||1);_[2]*=b,_[3]*=b,0>_[2]&&(_[0]=-_[2],_[2]=0),0>_[3]&&(_[1]=-_[3],_[3]=0)}var w=e._parseDots(r);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),l.gradient&&c!=l.gradient.id&&(d.defs.removeChild(l.gradient),delete l.gradient),!l.gradient){g=p(h+"Gradient",{id:c}),l.gradient=g,p(g,"radial"==h?{fx:y,fy:u}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:l.matrix.invert()}),d.defs.appendChild(g);for(var k=0,C=w.length;C>k;k++)g.appendChild(p("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return p(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=x,v.opacity=1,v.fillOpacity=1,1},g=function(l){var t=l.getBBox(1);p(l.pattern,{patternTransform:l.matrix.invert()+" translate("+t.x+","+t.y+")"})},m=function(i,r,n){if("path"==i.type){for(var a,s,o,h,c,y=t(r).toLowerCase().split("-"),u=i.paper,v=n?"end":"start",g=i.node,m=i.attrs,_=m["stroke-width"],b=y.length,w="classic",k=3,C=3,S=5;b--;)switch(y[b]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=y[b];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,S+=2,o=1,h=n?4:1,c={fill:"none",stroke:m.stroke}):(h=o=k/2,c={fill:m.stroke,stroke:"none"}),i._.arrows?n?(i._.arrows.endPath&&d[i._.arrows.endPath]--,i._.arrows.endMarker&&d[i._.arrows.endMarker]--):(i._.arrows.startPath&&d[i._.arrows.startPath]--,i._.arrows.startMarker&&d[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){var L="raphael-marker-"+w,A="raphael-marker-"+v+w+k+C+"-obj"+i.id;e._g.doc.getElementById(L)?d[L]++:(u.defs.appendChild(p(p("path"),{"stroke-linecap":"round",d:f[w],id:L})),d[L]=1);var T,M=e._g.doc.getElementById(A);M?(d[A]++,T=M.getElementsByTagName("use")[0]):(M=p(p("marker"),{id:A,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),T=p(p("use"),{"xlink:href":"#"+L,transform:(n?"rotate(180 "+k/2+" "+C/2+") ":x)+"scale("+k/S+","+C/S+")","stroke-width":(1/((k/S+C/S)/2)).toFixed(4)}),M.appendChild(T),u.defs.appendChild(M),d[A]=1),p(T,c);var B=o*("diamond"!=w&&"oval"!=w);n?(a=i._.arrows.startdx*_||0,s=e.getTotalLength(m.path)-B*_):(a=B*_,s=e.getTotalLength(m.path)-(i._.arrows.enddx*_||0)),c={},c["marker-"+v]="url(#"+A+")",(s||a)&&(c.d=e.getSubpath(m.path,a,s)),p(g,c),i._.arrows[v+"Path"]=L,i._.arrows[v+"Marker"]=A,i._.arrows[v+"dx"]=B,i._.arrows[v+"Type"]=w,i._.arrows[v+"String"]=r}else n?(a=i._.arrows.startdx*_||0,s=e.getTotalLength(m.path)-a):(a=0,s=e.getTotalLength(m.path)-(i._.arrows.enddx*_||0)),i._.arrows[v+"Path"]&&p(g,{d:e.getSubpath(m.path,a,s)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(c in d)if(d[l](c)&&!d[c]){var E=e._g.doc.getElementById(c);E&&E.parentNode.removeChild(E)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},b=function(l,e,i){if(e=_[t(e).toLowerCase()]){for(var r=l.attrs["stroke-width"]||"1",n={round:r,square:r,butt:0}[l.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*r+(s%2?1:-1)*n;p(l.node,{"stroke-dasharray":a.join(",")})}},w=function(i,n){var o=i.node,c=i.attrs,y=o.style.visibility;o.style.visibility="hidden";for(var f in n)if(n[l](f)){if(!e._availableAttrs[l](f))continue;var d=n[f];switch(c[f]=d,f){case"blur":i.blur(d);break;case"title":var _=p("title"),w=e._g.doc.createTextNode(d);_.appendChild(w),o.appendChild(_);break;case"href":case"target":var k=o.parentNode;if("a"!=k.tagName.toLowerCase()){var _=p("a");k.insertBefore(_,o),_.appendChild(o),k=_}"target"==f?k.setAttributeNS(u,"show","blank"==d?"new":d):k.setAttributeNS(u,f,d);break;case"cursor":o.style.cursor=d;break;case"transform":i.transform(d);break;case"arrow-start":m(i,d);break;case"arrow-end":m(i,d,1);break;case"clip-rect":var S=t(d).split(h);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var L=p("clipPath"),A=p("rect");L.id=e.createUUID(),p(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),L.appendChild(A),i.paper.defs.appendChild(L),p(o,{"clip-path":"url(#"+L.id+")"}),i.clip=A}if(!d){var T=o.getAttribute("clip-path");if(T){var M=e._g.doc.getElementById(T.replace(/(^url\(#|\)$)/g,x));M&&M.parentNode.removeChild(M),p(o,{"clip-path":x}),delete i.clip}}break;case"path":"path"==i.type&&(p(o,{d:d?c.path=e._pathToAbsolute(d):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1)));break;case"width":if(o.setAttribute(f,d),i._.dirty=1,!c.fx)break;f="x",d=c.x;case"x":c.fx&&(d=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==i.type)break;case"cx":o.setAttribute(f,d),i.pattern&&g(i),i._.dirty=1;break;case"height":if(o.setAttribute(f,d),i._.dirty=1,!c.fy)break;f="y",d=c.y;case"y":c.fy&&(d=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==i.type)break;case"cy":o.setAttribute(f,d),i.pattern&&g(i),i._.dirty=1;break;case"r":"rect"==i.type?p(o,{rx:d,ry:d}):o.setAttribute(f,d),i._.dirty=1;break;case"src":"image"==i.type&&o.setAttributeNS(u,"href",d);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(d/=a(s(i._.sx),s(i._.sy))||1),i.paper._vbSize&&(d*=i.paper._vbSize),o.setAttribute(f,d),c["stroke-dasharray"]&&b(i,c["stroke-dasharray"],n),i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"stroke-dasharray":b(i,d,n);break;case"fill":var B=t(d).match(e._ISURL);if(B){L=p("pattern");var E=p("image");L.id=e.createUUID(),p(L,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),p(E,{x:0,y:0,"xlink:href":B[1]}),L.appendChild(E),function(l){e._preload(B[1],function(){var t=this.offsetWidth,e=this.offsetHeight;p(l,{width:t,height:e}),p(E,{width:t,height:e}),i.paper.safari()})}(L),i.paper.defs.appendChild(L),p(o,{fill:"url(#"+L.id+")"}),i.pattern=L,i.pattern&&g(i);break}var P=e.getRGB(d);if(P.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=t(d).charAt())&&v(i,d)){if("opacity"in c||"fill-opacity"in c){var z=e._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,x));if(z){var I=z.getElementsByTagName("stop");p(I[I.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=d,c.fill="none";break}}else delete n.gradient,delete c.gradient,!e.is(c.opacity,"undefined")&&e.is(n.opacity,"undefined")&&p(o,{opacity:c.opacity}),!e.is(c["fill-opacity"],"undefined")&&e.is(n["fill-opacity"],"undefined")&&p(o,{"fill-opacity":c["fill-opacity"]});P[l]("opacity")&&p(o,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=e.getRGB(d),o.setAttribute(f,P.hex),"stroke"==f&&P[l]("opacity")&&p(o,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==f&&i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=t(d).charAt())&&v(i,d);break;case"opacity":c.gradient&&!c[l]("stroke-opacity")&&p(o,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(c.gradient){z=e._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,x)),z&&(I=z.getElementsByTagName("stop"),p(I[I.length-1],{"stop-opacity":d}));break}default:"font-size"==f&&(d=r(d,10)+"px");var N=f.replace(/(\-.)/g,function(l){return l.substring(1).toUpperCase()});o.style[N]=d,i._.dirty=1,o.setAttribute(f,d)}}C(i,n),o.style.visibility=y},k=1.2,C=function(i,n){if("text"==i.type&&(n[l]("text")||n[l]("font")||n[l]("font-size")||n[l]("x")||n[l]("y"))){var a=i.attrs,s=i.node,o=s.firstChild?r(e._g.doc.defaultView.getComputedStyle(s.firstChild,x).getPropertyValue("font-size"),10):10;
if(n[l]("text")){for(a.text=n.text;s.firstChild;)s.removeChild(s.firstChild);for(var h,c=t(n.text).split("\n"),y=[],u=0,f=c.length;f>u;u++)h=p("tspan"),u&&p(h,{dy:o*k,x:a.x}),h.appendChild(e._g.doc.createTextNode(c[u])),s.appendChild(h),y[u]=h}else for(y=s.getElementsByTagName("tspan"),u=0,f=y.length;f>u;u++)u?p(y[u],{dy:o*k,x:a.x}):p(y[0],{dy:0});p(s,{x:a.x,y:a.y}),i._.dirty=1;var d=i._getBBox(),v=a.y-(d.y+d.height/2);v&&e.is(v,"finite")&&p(y[0],{dy:v})}},S=function(l,t){this[0]=this.node=l,l.raphael=!0,this.id=e._oid++,l.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},L=e.el;S.prototype=L,L.constructor=S,e._engine.path=function(l,t){var e=p("path");t.canvas&&t.canvas.appendChild(e);var i=new S(e,t);return i.type="path",w(i,{fill:"none",stroke:"#000",path:l}),i},L.rotate=function(l,e,r){if(this.removed)return this;if(l=t(l).split(h),l.length-1&&(e=i(l[1]),r=i(l[2])),l=i(l[0]),null==r&&(e=r),null==e||null==r){var n=this.getBBox(1);e=n.x+n.width/2,r=n.y+n.height/2}return this.transform(this._.transform.concat([["r",l,e,r]])),this},L.scale=function(l,e,r,n){if(this.removed)return this;if(l=t(l).split(h),l.length-1&&(e=i(l[1]),r=i(l[2]),n=i(l[3])),l=i(l[0]),null==e&&(e=l),null==n&&(r=n),null==r||null==n)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,n=null==n?a.y+a.height/2:n,this.transform(this._.transform.concat([["s",l,e,r,n]])),this},L.translate=function(l,e){return this.removed?this:(l=t(l).split(h),l.length-1&&(e=i(l[1])),l=i(l[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",l,e]])),this)},L.transform=function(t){var i=this._;if(null==t)return i.transform;if(e._extractTransform(this,t),this.clip&&p(this.clip,{transform:this.matrix.invert()}),this.pattern&&g(this),this.node&&p(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[l]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},L.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},L.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},L.remove=function(){if(!this.removed&&this.node.parentNode){var l=this.paper;l.__set__&&l.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&l.defs.removeChild(this.gradient),e._tear(this,l),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},L._getBBox=function(){if("none"==this.node.style.display){this.show();var l=!0}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}return l&&this.hide(),t},L.attr=function(t,i){if(this.removed)return this;if(null==t){var r={};for(var n in this.attrs)this.attrs[l](n)&&(r[n]=this.attrs[n]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&e.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var a=t.split(h),s={},o=0,x=a.length;x>o;o++)t=a[o],s[t]=t in this.attrs?this.attrs[t]:e.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:e._availableAttrs[t];return x-1?s:s[a[0]]}if(null==i&&e.is(t,"array")){for(s={},o=0,x=t.length;x>o;o++)s[t[o]]=this.attr(t[o]);return s}if(null!=i){var y={};y[t]=i}else null!=t&&e.is(t,"object")&&(y=t);for(var u in y)c("raphael.attr."+u+"."+this.id,this,y[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[l](u)&&y[l](u)&&e.is(this.paper.customAttributes[u],"function")){var f=this.paper.customAttributes[u].apply(this,[].concat(y[u]));this.attrs[u]=y[u];for(var d in f)f[l](d)&&(y[d]=f[d])}return w(this,y),this},L.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var l=this.paper;return l.top!=this&&e._tofront(this,l),this},L.toBack=function(){if(this.removed)return this;var l=this.node.parentNode;return"a"==l.tagName.toLowerCase()?l.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):l.firstChild!=this.node&&l.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper),this.paper,this},L.insertAfter=function(l){if(this.removed)return this;var t=l.node||l[l.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),e._insertafter(this,l,this.paper),this},L.insertBefore=function(l){if(this.removed)return this;var t=l.node||l[0].node;return t.parentNode.insertBefore(this.node,t),e._insertbefore(this,l,this.paper),this},L.blur=function(l){var t=this;if(0!==+l){var i=p("filter"),r=p("feGaussianBlur");t.attrs.blur=l,i.id=e.createUUID(),p(r,{stdDeviation:+l||1.5}),i.appendChild(r),t.paper.defs.appendChild(i),t._blur=i,p(t.node,{filter:"url(#"+i.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},e._engine.circle=function(l,t,e,i){var r=p("circle");l.canvas&&l.canvas.appendChild(r);var n=new S(r,l);return n.attrs={cx:t,cy:e,r:i,fill:"none",stroke:"#000"},n.type="circle",p(r,n.attrs),n},e._engine.rect=function(l,t,e,i,r,n){var a=p("rect");l.canvas&&l.canvas.appendChild(a);var s=new S(a,l);return s.attrs={x:t,y:e,width:i,height:r,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},s.type="rect",p(a,s.attrs),s},e._engine.ellipse=function(l,t,e,i,r){var n=p("ellipse");l.canvas&&l.canvas.appendChild(n);var a=new S(n,l);return a.attrs={cx:t,cy:e,rx:i,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",p(n,a.attrs),a},e._engine.image=function(l,t,e,i,r,n){var a=p("image");p(a,{x:e,y:i,width:r,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(u,"href",t),l.canvas&&l.canvas.appendChild(a);var s=new S(a,l);return s.attrs={x:e,y:i,width:r,height:n,src:t},s.type="image",s},e._engine.text=function(l,t,i,r){var n=p("text");l.canvas&&l.canvas.appendChild(n);var a=new S(n,l);return a.attrs={x:t,y:i,"text-anchor":"middle",text:r,font:e._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},e._engine.setSize=function(l,t){return this.width=l||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var l=e._getContainer.apply(0,arguments),t=l&&l.container,i=l.x,r=l.y,n=l.width,a=l.height;if(!t)throw Error("SVG container not found.");var s,o=p("svg"),h="overflow:hidden;";return i=i||0,r=r||0,n=n||512,a=a||342,p(o,{height:a,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg"}),1==t?(o.style.cssText=h+"position:absolute;",e._g.doc.body.appendChild(o),s=1):(o.style.cssText=h+"position:absolute",t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)),t=new e._Paper,t.width=n,t.height=a,t.canvas=o,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},e._engine.setViewBox=function(l,t,e,i,r){c("raphael.setViewBox",this,this._viewBox,[l,t,e,i,r]);var n,s,o=a(e/this.width,i/this.height),h=this.top,x=r?"meet":"xMinYMin";for(null==l?(this._vbSize&&(o=1),delete this._vbSize,n="0 0 "+this.width+y+this.height):(this._vbSize=o,n=l+y+t+y+e+y+i),p(this.canvas,{viewBox:n,preserveAspectRatio:x});o&&h;)s="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":s}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[l,t,e,i,!!r],this},e.prototype.renderfix=function(){var l,t=this.canvas,e=t.style;try{l=t.getScreenCTM()||t.createSVGMatrix()}catch(i){l=t.createSVGMatrix()}e.top="auto",e.left="auto"},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var l=this.canvas;l.firstChild;)l.removeChild(l.firstChild);this.bottom=this.top=null,(this.desc=p("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),l.appendChild(this.desc),l.appendChild(this.defs=p("defs"))},e.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null};var A=e.st;for(var T in L)L[l](T)&&!A[l](T)&&(A[T]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l].apply(e,t)})}}(T))}}(),function(){if(e.vml){var l="hasOwnProperty",t=String,i=parseFloat,r=Math,n=r.round,a=r.max,s=r.min,o=r.abs,h="fill",c=/[, ]+/,x=e.eve,y=" progid:DXImageTransform.Microsoft",u=" ",f="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px",_=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(l){var i=/[ahqstv]/gi,r=e._pathToAbsolute;if(t(l).match(i)&&(r=e._path2curve),i=/[clmz]/g,r==e._pathToAbsolute&&!t(l).match(i)){var a=t(l).replace(p,function(l,t,e){var i=[],r="m"==t.toLowerCase(),a=d[t];return e.replace(g,function(l){r&&2==i.length&&(a+=i+d["m"==t?"l":"L"],i=[]),i.push(n(l*_))}),a+i});return a}var s,o,h=r(l);a=[];for(var c=0,x=h.length;x>c;c++){s=h[c],o=h[c][0].toLowerCase(),"z"==o&&(o="x");for(var y=1,v=s.length;v>y;y++)o+=n(s[y]*_)+(y!=v-1?",":f);a.push(o)}return a.join(u)},C=function(l,t,i){var r=e.matrix();return r.rotate(-l,.5,.5),{dx:r.x(t,i),dy:r.y(t,i)}},S=function(l,t,e,i,r,n){var a=l._,s=l.matrix,c=a.fillpos,x=l.node,y=x.style,f=1,d="",p=_/t,v=_/e;if(y.visibility="hidden",t&&e){if(x.coordsize=o(p)+u+o(v),y.rotation=n*(0>t*e?-1:1),n){var g=C(n,i,r);i=g.dx,r=g.dy}if(0>t&&(d+="x"),0>e&&(d+=" y")&&(f=-1),y.flip=d,x.coordorigin=i*-p+u+r*-v,c||a.fillsize){var m=x.getElementsByTagName(h);m=m&&m[0],x.removeChild(m),c&&(g=C(n,s.x(c[0],c[1]),s.y(c[0],c[1])),m.position=g.dx*f+u+g.dy*f),a.fillsize&&(m.size=a.fillsize[0]*o(t)+u+a.fillsize[1]*o(e)),x.appendChild(m)}y.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var L=function(l,e,i){for(var r=t(e).toLowerCase().split("-"),n=i?"end":"start",a=r.length,s="classic",o="medium",h="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=r[a];break;case"wide":case"narrow":h=r[a];break;case"long":case"short":o=r[a]}var c=l.node.getElementsByTagName("stroke")[0];c[n+"arrow"]=s,c[n+"arrowlength"]=o,c[n+"arrowwidth"]=h},A=function(r,o){r.attrs=r.attrs||{};var x=r.node,y=r.attrs,d=x.style,p=b[r.type]&&(o.x!=y.x||o.y!=y.y||o.width!=y.width||o.height!=y.height||o.cx!=y.cx||o.cy!=y.cy||o.rx!=y.rx||o.ry!=y.ry||o.r!=y.r),v=w[r.type]&&(y.cx!=o.cx||y.cy!=o.cy||y.r!=o.r||y.rx!=o.rx||y.ry!=o.ry),g=r;for(var m in o)o[l](m)&&(y[m]=o[m]);if(p&&(y.path=e._getPath[r.type](r),r._.dirty=1),o.href&&(x.href=o.href),o.title&&(x.title=o.title),o.target&&(x.target=o.target),o.cursor&&(d.cursor=o.cursor),"blur"in o&&r.blur(o.blur),(o.path&&"path"==r.type||p)&&(x.path=k(~t(y.path).toLowerCase().indexOf("r")?e._pathToAbsolute(y.path):y.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[y.x,y.y],r._.fillsize=[y.width,y.height],S(r,1,1,0,0,0))),"transform"in o&&r.transform(o.transform),v){var C=+y.cx,A=+y.cy,M=+y.rx||+y.r||0,B=+y.ry||+y.r||0;x.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",n((C-M)*_),n((A-B)*_),n((C+M)*_),n((A+B)*_),n(C*_)),r._.dirty=1}if("clip-rect"in o){var P=t(o["clip-rect"]).split(c);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var z=x.clipRect||e._g.doc.createElement("div"),I=z.style;I.clip=e.format("rect({1}px {2}px {3}px {0}px)",P),x.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=r.paper.width+"px",I.height=r.paper.height+"px",x.parentNode.insertBefore(z,x),z.appendChild(x),x.clipRect=z)}o["clip-rect"]||x.clipRect&&(x.clipRect.style.clip="auto")}if(r.textpath){var N=r.textpath.style;o.font&&(N.font=o.font),o["font-family"]&&(N.fontFamily='"'+o["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),o["font-size"]&&(N.fontSize=o["font-size"]),o["font-weight"]&&(N.fontWeight=o["font-weight"]),o["font-style"]&&(N.fontStyle=o["font-style"])}if("arrow-start"in o&&L(g,o["arrow-start"]),"arrow-end"in o&&L(g,o["arrow-end"],1),null!=o.opacity||null!=o["stroke-width"]||null!=o.fill||null!=o.src||null!=o.stroke||null!=o["stroke-width"]||null!=o["stroke-opacity"]||null!=o["fill-opacity"]||null!=o["stroke-dasharray"]||null!=o["stroke-miterlimit"]||null!=o["stroke-linejoin"]||null!=o["stroke-linecap"]){var R=x.getElementsByTagName(h),F=!1;if(R=R&&R[0],!R&&(F=R=E(h)),"image"==r.type&&o.src&&(R.src=o.src),o.fill&&(R.on=!0),(null==R.on||"none"==o.fill||null===o.fill)&&(R.on=!1),R.on&&o.fill){var Y=t(o.fill).match(e._ISURL);if(Y){R.parentNode==x&&x.removeChild(R),R.rotate=!0,R.src=Y[1],R.type="tile";var X=r.getBBox(1);R.position=X.x+u+X.y,r._.fillpos=[X.x,X.y],e._preload(Y[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=e.getRGB(o.fill).hex,R.src=f,R.type="solid",e.getRGB(o.fill).error&&(g.type in{circle:1,ellipse:1}||"r"!=t(o.fill).charAt())&&T(g,o.fill,R)&&(y.fill="none",y.gradient=o.fill,R.rotate=!1)}if("fill-opacity"in o||"opacity"in o){var G=((+y["fill-opacity"]+1||2)-1)*((+y.opacity+1||2)-1)*((+e.getRGB(o.fill).o+1||2)-1);G=s(a(G,0),1),R.opacity=G,R.src&&(R.color="none")}x.appendChild(R);var D=x.getElementsByTagName("stroke")&&x.getElementsByTagName("stroke")[0],j=!1;!D&&(j=D=E("stroke")),(o.stroke&&"none"!=o.stroke||o["stroke-width"]||null!=o["stroke-opacity"]||o["stroke-dasharray"]||o["stroke-miterlimit"]||o["stroke-linejoin"]||o["stroke-linecap"])&&(D.on=!0),("none"==o.stroke||null===o.stroke||null==D.on||0==o.stroke||0==o["stroke-width"])&&(D.on=!1);var O=e.getRGB(o.stroke);D.on&&o.stroke&&(D.color=O.hex),G=((+y["stroke-opacity"]+1||2)-1)*((+y.opacity+1||2)-1)*((+O.o+1||2)-1);var q=.75*(i(o["stroke-width"])||1);if(G=s(a(G,0),1),null==o["stroke-width"]&&(q=y["stroke-width"]),o["stroke-width"]&&(D.weight=q),q&&1>q&&(G*=q)&&(D.weight=1),D.opacity=G,o["stroke-linejoin"]&&(D.joinstyle=o["stroke-linejoin"]||"miter"),D.miterlimit=o["stroke-miterlimit"]||8,o["stroke-linecap"]&&(D.endcap="butt"==o["stroke-linecap"]?"flat":"square"==o["stroke-linecap"]?"square":"round"),o["stroke-dasharray"]){var $={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};D.dashstyle=$[l](o["stroke-dasharray"])?$[o["stroke-dasharray"]]:f}j&&x.appendChild(D)}if("text"==g.type){g.paper.canvas.style.display=f;var V=g.paper.span,Z=100,U=y.font&&y.font.match(/\d+(?:\.\d*)?(?=px)/);d=V.style,y.font&&(d.font=y.font),y["font-family"]&&(d.fontFamily=y["font-family"]),y["font-weight"]&&(d.fontWeight=y["font-weight"]),y["font-style"]&&(d.fontStyle=y["font-style"]),U=i(y["font-size"]||U&&U[0])||10,d.fontSize=U*Z+"px",g.textpath.string&&(V.innerHTML=t(g.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var H=V.getBoundingClientRect();g.W=y.w=(H.right-H.left)/Z,g.H=y.h=(H.bottom-H.top)/Z,g.X=y.x,g.Y=y.y+g.H/2,("x"in o||"y"in o)&&(g.path.v=e.format("m{0},{1}l{2},{1}",n(y.x*_),n(y.y*_),n(y.x*_)+1));for(var W=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Q=W.length;Q>K;K++)if(W[K]in o){g._.dirty=1;break}switch(y["text-anchor"]){case"start":g.textpath.style["v-text-align"]="left",g.bbx=g.W/2;break;case"end":g.textpath.style["v-text-align"]="right",g.bbx=-g.W/2;break;default:g.textpath.style["v-text-align"]="center",g.bbx=0}g.textpath.style["v-text-kern"]=!0}},T=function(l,n,a){l.attrs=l.attrs||{};var s=(l.attrs,Math.pow),o="linear",h=".5 .5";if(l.attrs.gradient=n,n=t(n).replace(e._radial_gradient,function(l,t,e){return o="radial",t&&e&&(t=i(t),e=i(e),s(t-.5,2)+s(e-.5,2)>.25&&(e=r.sqrt(.25-s(t-.5,2))*(2*(e>.5)-1)+.5),h=t+u+e),f}),n=n.split(/\s*\-\s*/),"linear"==o){var c=n.shift();if(c=-i(c),isNaN(c))return null}var x=e._parseDots(n);if(!x)return null;if(l=l.shape||l.node,x.length){l.removeChild(a),a.on=!0,a.method="none",a.color=x[0].color,a.color2=x[x.length-1].color;for(var y=[],d=0,p=x.length;p>d;d++)x[d].offset&&y.push(x[d].offset+u+x[d].color);a.colors=y.length?y.join():"0% "+a.color,"radial"==o?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),l.appendChild(a)}return 1},M=function(l,t){this[0]=this.node=l,l.raphael=!0,this.id=e._oid++,l.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},B=e.el;M.prototype=B,B.constructor=M,B.transform=function(l){if(null==l)return this._.transform;var i,r=this.paper._viewBoxShift,n=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(i=l=t(l).replace(/\.{3}|\u2026/g,this._.transform||f)),e._extractTransform(this,n+l);var a,s=this.matrix.clone(),o=this.skew,h=this.node,c=~t(this.attrs.fill).indexOf("-"),x=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),x||c||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){h.style.filter=s.toFilter();var y=this.getBBox(),d=this.getBBox(1),p=y.x-d.x,v=y.y-d.y;h.coordorigin=p*-_+u+v*-_,S(this,1,1,p,v,0)}else h.style.filter=f,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else h.style.filter=f,o.matrix=t(s),o.offset=s.offset();return i&&(this._.transform=i),this},B.rotate=function(l,e,r){if(this.removed)return this;if(null!=l){if(l=t(l).split(c),l.length-1&&(e=i(l[1]),r=i(l[2])),l=i(l[0]),null==r&&(e=r),null==e||null==r){var n=this.getBBox(1);e=n.x+n.width/2,r=n.y+n.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",l,e,r]])),this}},B.translate=function(l,e){return this.removed?this:(l=t(l).split(c),l.length-1&&(e=i(l[1])),l=i(l[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=l,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",l,e]])),this)},B.scale=function(l,e,r,n){if(this.removed)return this;if(l=t(l).split(c),l.length-1&&(e=i(l[1]),r=i(l[2]),n=i(l[3]),isNaN(r)&&(r=null),isNaN(n)&&(n=null)),l=i(l[0]),null==e&&(e=l),null==n&&(r=n),null==r||null==n)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,n=null==n?a.y+a.height/2:n,this.transform(this._.transform.concat([["s",l,e,r,n]])),this._.dirtyT=1,this},B.hide=function(){return!this.removed&&(this.node.style.display="none"),this},B.show=function(){return!this.removed&&(this.node.style.display=f),this},B._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},B.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null;this.removed=!0}},B.attr=function(t,i){if(this.removed)return this;if(null==t){var r={};for(var n in this.attrs)this.attrs[l](n)&&(r[n]=this.attrs[n]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&e.is(t,"string")){if(t==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(c),s={},o=0,y=a.length;y>o;o++)t=a[o],s[t]=t in this.attrs?this.attrs[t]:e.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:e._availableAttrs[t];return y-1?s:s[a[0]]}if(this.attrs&&null==i&&e.is(t,"array")){for(s={},o=0,y=t.length;y>o;o++)s[t[o]]=this.attr(t[o]);return s}var u;null!=i&&(u={},u[t]=i),null==i&&e.is(t,"object")&&(u=t);for(var f in u)x("raphael.attr."+f+"."+this.id,this,u[f]);if(u){for(f in this.paper.customAttributes)if(this.paper.customAttributes[l](f)&&u[l](f)&&e.is(this.paper.customAttributes[f],"function")){var d=this.paper.customAttributes[f].apply(this,[].concat(u[f]));this.attrs[f]=u[f];for(var p in d)d[l](p)&&(u[p]=d[p])}u.text&&"text"==this.type&&(this.textpath.string=u.text),A(this,u)}return this},B.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},B.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},B.insertAfter=function(l){return this.removed?this:(l.constructor==e.st.constructor&&(l=l[l.length-1]),l.node.nextSibling?l.node.parentNode.insertBefore(this.node,l.node.nextSibling):l.node.parentNode.appendChild(this.node),e._insertafter(this,l,this.paper),this)},B.insertBefore=function(l){return this.removed?this:(l.constructor==e.st.constructor&&(l=l[0]),l.node.parentNode.insertBefore(this.node,l.node),e._insertbefore(this,l,this.paper),this)},B.blur=function(l){var t=this.node.runtimeStyle,i=t.filter;return i=i.replace(v,f),0!==+l?(this.attrs.blur=l,t.filter=i+u+y+".Blur(pixelradius="+(+l||1.5)+")",t.margin=e.format("-{0}px 0 0 -{0}px",n(+l||1.5))):(t.filter=i,t.margin=0,delete this.attrs.blur),this},e._engine.path=function(l,t){var e=E("shape");e.style.cssText=m,e.coordsize=_+u+_,e.coordorigin=t.coordorigin;var i=new M(e,t),r={fill:"none",stroke:"#000"};l&&(r.path=l),i.type="path",i.path=[],i.Path=f,A(i,r),t.canvas.appendChild(e);var n=E("skew");return n.on=!0,e.appendChild(n),i.skew=n,i.transform(f),i},e._engine.rect=function(l,t,i,r,n,a){var s=e._rectPath(t,i,r,n,a),o=l.path(s),h=o.attrs;return o.X=h.x=t,o.Y=h.y=i,o.W=h.width=r,o.H=h.height=n,h.r=a,h.path=s,o.type="rect",o},e._engine.ellipse=function(l,t,e,i,r){var n=l.path();return n.attrs,n.X=t-i,n.Y=e-r,n.W=2*i,n.H=2*r,n.type="ellipse",A(n,{cx:t,cy:e,rx:i,ry:r}),n},e._engine.circle=function(l,t,e,i){var r=l.path();return r.attrs,r.X=t-i,r.Y=e-i,r.W=r.H=2*i,r.type="circle",A(r,{cx:t,cy:e,r:i}),r},e._engine.image=function(l,t,i,r,n,a){var s=e._rectPath(i,r,n,a),o=l.path(s).attr({stroke:"none"}),c=o.attrs,x=o.node,y=x.getElementsByTagName(h)[0];return c.src=t,o.X=c.x=i,o.Y=c.y=r,o.W=c.width=n,o.H=c.height=a,c.path=s,o.type="image",y.parentNode==x&&x.removeChild(y),y.rotate=!0,y.src=t,y.type="tile",o._.fillpos=[i,r],o._.fillsize=[n,a],x.appendChild(y),S(o,1,1,0,0,0),o},e._engine.text=function(l,i,r,a){var s=E("shape"),o=E("path"),h=E("textpath");i=i||0,r=r||0,a=a||"",o.v=e.format("m{0},{1}l{2},{1}",n(i*_),n(r*_),n(i*_)+1),o.textpathok=!0,h.string=t(a),h.on=!0,s.style.cssText=m,s.coordsize=_+u+_,s.coordorigin="0 0";var c=new M(s,l),x={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};c.shape=s,c.path=o,c.textpath=h,c.type="text",c.attrs.text=t(a),c.attrs.x=i,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,A(c,x),s.appendChild(h),s.appendChild(o),l.canvas.appendChild(s);var y=E("skew");return y.on=!0,s.appendChild(y),c.skew=y,c.transform(f),c},e._engine.setSize=function(l,t){var i=this.canvas.style;return this.width=l,this.height=t,l==+l&&(l+="px"),t==+t&&(t+="px"),i.width=l,i.height=t,i.clip="rect(0 "+l+" "+t+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(l,t,i,r,n){e.eve("raphael.setViewBox",this,this._viewBox,[l,t,i,r,n]);var s,o,h=this.width,c=this.height,x=1/a(i/h,r/c);return n&&(s=c/r,o=h/i,h>i*s&&(l-=(h-i*s)/2/s),c>r*o&&(t-=(c-r*o)/2/o)),this._viewBox=[l,t,i,r,!!n],this._viewBoxShift={dx:-l,dy:-t,scale:x},this.forEach(function(l){l.transform("...")}),this};var E;e._engine.initWin=function(l){var t=l.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(l){return t.createElement("<rvml:"+l+' class="rvml">')}}catch(e){E=function(l){return t.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var l=e._getContainer.apply(0,arguments),t=l.container,i=l.height,r=l.width,n=l.x,a=l.y;if(!t)throw Error("VML container not found.");var s=new e._Paper,o=s.canvas=e._g.doc.createElement("div"),h=o.style;return n=n||0,a=a||0,r=r||512,i=i||342,s.width=r,s.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),s.coordsize=1e3*_+u+1e3*_,s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",o.appendChild(s.span),h.cssText=e.format("top:auto;left:auto;width:{0};height:{1};display:inline-block;position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==t?(e._g.doc.body.appendChild(o),h.position="absolute"):t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null;return!0};var P=e.st;for(var z in B)B[l](z)&&!P[l](z)&&(P[z]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l].apply(e,t)})}}(z))}}(),A.was?L.win.Raphael=e:Raphael=e,e})}(window),window.Raphael}),KISSY.add("gallery/kcharts/1.3/dashboard/pointer",function(l,t){function e(t,e,i,r,n,a){var s,o,h,c,x,y,u=Math.asin(r/n);a=l.mix({fill:"#000",stroke:"#000"},a,!0,["stroke","stroke-width","fill"]),s=e,o=i-n;var f=r*Math.cos(u);h=e+f,c=i-r*r/n,x=e-f,y=i-r*r/n;var d=["M",s,o,"L",h,c,"A",r,r,0,1,1,x,y,"Z"],p=t.path(d.join(","));return p.attr(a),p}var i,r={pointTo:function(l,t){var i=this.get("paper"),r=this,n=this.get("dashboard"),a=n.get("cx"),s=n.get("cy"),o=n.get("pointer")||{},h=o.cx||0,c=o.cy||0,x=a+h,y=s+c;n.get("width"),n.get("height");var u={a:function(n){var a=["r",l-90,x,y].join(",");r.pointer||(r.pointer=e(i,x,y,n.r||5,n.R||80,n)),l&&r.pointer.animate({transform:a},t.ms,t.easing,t.callback)},b:function(){}},f=o.theme&&o.theme.name&&u[o.theme.name]||u.a;f&&f(o.theme)}};return t.extend?i=t.extend(r):(i=function(l){this.set(l),this.userConfig=l},l.extend(i,t,r)),i},{requires:["base"]}),KISSY.add("gallery/kcharts/1.3/dashboard/pointer-pic",function(l,t){function e(){e.superclass.constructor.apply(this,arguments);var l=this.get("pointer"),t=(this.get("paper"),this.get("dashboard")),i=this.get("cy"),r=this.get("cx"),n=t.get("cx"),a=t.get("cy");this.pointer=l,this.cx=i,this.cy=r,this.paperCx=n,this.paperCy=a}return l.extend(e,t,{pointTo:function(l,t){var e=["r",l,this.paperCx,this.paperCy].join(",");return t?this.pointer.animate({transform:e},t.ms,t.easing,t.callback):this.pointer.transform(e),this}}),e},{requires:["./pointer"]}),KISSY.add("gallery/kcharts/1.3/dashboard/dashboard-ticks",function(l,t){var e,i={initializer:function(){var t,e,i,r,n,a,s,o,h,c,x,y,u=this.get("cfg"),f=u.r1||100,d=u.r2||105,p=u.R||110,v=this.get("dashboard"),g=this.get("paper"),m=v.get("cx"),_=v.get("cy"),b=[],w="";i=u.start||0,r=u.end||2*Math.PI,t=u.n||60,e=u.m,i-=Math.PI,r-=Math.PI,n=r-i,a=n/t;for(var k=0;t>=k;k+=1)if(!e||0!=k%e){var C=i+k*a;s=Math.cos(C),o=Math.sin(C),h=m+d*s,c=_+d*o,x=m+p*s,y=_+p*o,b.push("M",h,c,"L",x,y)}w=b.join(",");var S=g.path(w),L={};if(l.mix(L,u.thinStyle,!0,["stroke-width","stroke"]),S.attr(L),e){for(var A=[],T=0;t>=T;T+=e){var C=i+T*a;s=Math.cos(C),o=Math.sin(C),h=m+f*s,c=_+f*o,x=m+p*s,y=_+p*o,A.push("M",h,c,"L",x,y)}w=A.join(",");var M=g.path(w),B={"stroke-width":2};l.mix(B,u.thickStyle,!0,["stroke-width","stroke"]),M.attr(B)}}};return t.extend?e=t.extend(i):(e=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(e,t,i)),e},{requires:["base"]}),KISSY.add("gallery/kcharts/1.3/dashboard/index",function(l,t,e,i,r,n){window.console&&window.console.log("asdfaf");var a,s=t,o={initializer:function(){var t=this.get("renderTo");l.isString(t)&&(t=l.get(t));var e=this.get("width"),i=this.get("height");this.paper=s(t,e,i);var r=this.get("cx")||this.get("width")/2,n=this.get("cy")||this.get("width")/2;this.set("cx",r),this.set("cy",n),this.bindEvent();var a,o,h;a=this.get("ticks"),o=this.get("pointer"),h=this.get("background"),l.isObject(h)?this.drawBg(h):l.isFunction(h)&&h.call(this),l.isObject(o)?this.drawPointer(o):l.isFunction(o)&&o.call(this),l.isObject(a)?this.drawTicks(a):l.isFunction(a)&&(this.ticks=a.call(this))},bindEvent:function(){},drawBg:function(l){l.src?this.drawPictureBg(l):this.drawVectorBg(l)},drawPointer:function(l){var t=this;l.src?t.drawPicturePointer(l):t.drawVectorPointer(l)},drawVectorBg:function(){},drawPictureBg:function(l){var t,e=l.src,i=this.paper,r=this.get("cx"),n=this.get("cy"),a=l.cx,s=l.cy,o=r-a,h=n-s;t=i.image(e,o,h,l.width,l.height),this.set("background",t),this.background=t},drawPicturePointer:function(l){var t,e,r,n;t=this.get("cx"),e=this.get("cy"),r=l.cx,n=l.cy;var a,s=l.src,o=this.paper,h=t-r,c=e-n,x=this;a=o.image(s,h,c,l.width,l.height);var y=new i({pointer:a,dashboard:x,paper:o,cx:r,cy:n});x.set("pointer",y),this.pointer=y},drawVectorPointer:function(){var l=(this.get("vectorPointer"),this),t=this.paper,i=new e({dashboard:l,paper:t});this.pointer=i},drawTicks:function(l){this.ticks=new r({dashboard:this,paper:this.paper,cfg:l})},pointTo:function(l,t){this.pointer&&this.pointer.pointTo(l,t)}};return n.extend?a=n.extend(o):(a=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(a,n,o)),a},{requires:["../raphael/index","./pointer","./pointer-pic","./dashboard-ticks","base","dom","event"]});