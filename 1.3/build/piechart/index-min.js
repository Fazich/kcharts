/*! kcharts - v1.3 - 2014-01-06 9:55:15 AM
* Copyright (c) 2014 数据可视化小组; Licensed  */
KISSY.add("gallery/kcharts/1.3/piechart/util",function(l,e,t,i){function n(l){function e(l){for(var r=0,s=l.length;s>r;r++)i.call(l[r])==n?e(l[r]):t.push(l[r])}var t=[],i=Object.prototype.toString,n=i.call(l);return e(l),t}function r(e,t){function i(e,r){for(var s=0,x=e.length;x>s;s++)l.isArray(e[s])?i(e[s],r++):t(e[s])&&(n[r]||(n[r]=[]),n[r].push(e[s]))}var n=[];return i(e,0),n}function s(e,t){function i(e,n){for(var x=0,a=e.length;a>x;x++)if(l.isArray(e[x].data)){var y=n.push(l.mix({},e[x],!0,["label"]));n[y].data=[],i(e[x].data,n[y].data)}else{var o=e[x].data,c=o/s;t(o,c)?n.push(e[x]):r+=e[x].data}}var n=[],r=0,s=o(e);return i(e,n),n.push({label:"其它",data:r}),n}function x(l){function e(l){for(var t,i=[],n=0,r=l.length;r>n;n++)"object"==typeof l[n].data&&i.push(1+e(l[n].data));return t=i.length?Math.max.apply(null,i):0}var t=e(l);return t+1}function a(l,e){for(var t=0,i=0,n=l.length;n>i;i++){var r=e(l[i]);r&&(t+=r)}return t}function y(e){return a(e,function(e){return e.value&&l.isNumber(e.value)?e.value:0})}function o(e){for(var t=0,i=0,n=e.length;n>i;i++)t+=l.isArray(e[i].data)?o(e[i].data):e[i].data;return t}function c(l){function e(l,r,s){for(var x=0,a=l.length;a>x;x++){var y;if(y=s?s:x+1,w(l[x].data)){var c=o(l[x].data);l[x].value=c,i[r]||(i[r]=[]),i[r].push(l[x]),n[y-1]||(n[y-1]=[]),n[y-1].push(l[x]),e(l[x].data,r+1,y)}else{if(l[x].value=l[x].data,i[r]||(i[r]=[]),i[r].push(l[x]),t-1>r){var h=r+1;for(l[x].crossdepth=r;t>h;)i[h]||(i[h]=[]),i[h].push(l[x]),h++}n[y-1]||(n[y-1]=[]),n[y-1].push(l[x])}}}var t,i=[],n=[],r={};return t=x(l),e(l,0),r.groups=i,r.set=n,r}function h(l,e){var t,i=this.el.get("start"),n=this.prev,r=this.el.get("donutIndex");r&&(i=n.el.get("end")),t=i-e,this.el.set("start",i),this.el.set("end",t)}function v(l,t){var i=t.get("rs"),n=[],r=t.get("interval")||2,s=t.get("paper"),x=t.get("cx"),a=t.get("cy"),o=t.get("pathcfg"),c=!!t.get("donut"),v=t.get("initdeg");void 0==v&&(v=90);for(var f=0,d=l.length;d>f;f++)for(var p=s.set(),g=y(l[f]),u=0,_=0,m=l[f].length;m>_;_++){var b,w,k=l[f],L=k[_],C="number"==typeof L.crossdepth;if(!(C&&d-1>f)){b=f?C?0==L.crossdepth?[i[f]]:[i[L.crossdepth-1]+r,i[f]]:[i[f-1]+r,i[f]]:i[f],c&&1==d&&(b=[i[0],i[1]]),L.el=new e({paper:s,cx:x,cy:a,r:b,start:v,end:v-1,pathcfg:o,framedata:L}),w=L.el.get("$path"),p.push(w),L.el.set("group",p),L.el.set("groupLength",d),L.el.set("framedata",L);var A=[];if(C)for(var S=L.crossdepth;d>S;)A.push(S),S++;else A.push(f);L.el.set("groupIndex",A),L.el.set("donutIndex",_),L.el.set("label",L.label||""),n.push(L.el),function(l){L.el.on("mouseout",function(){t.fire("mouseout",{sector:l})}),L.el.on("mouseover",function(){t.fire("mouseover",{sector:l})}),L.el.on("click",function(){t.fire("click",{sector:l})})}(L.el),L.frame=h,L.from||(L.from={}),L.to||(L.to={}),L.percent=L.value/g,L.from.deg=0,L.to.deg=_==m-1?360-u:360*L.percent,u+=360*L.percent,L.prev=_>0?k[_-1]:k[m-1],L.next=m-1>_?k[_+1]:k[0]}}return n}function f(l,e){for(var t=e.get("paper"),i=0,n=l.length;n>i;i++)for(var r=t.set(),s=0,x=l[i].length;x>s;s++){var a=l[i][s],y=a.el,o=y.get("$path");r.push(o),y.set("set",r)}}function d(l){var e;return(!l||0>l||l>1)&&(e=.1),e}function p(l,e,t){if(t||(t=0),l){this.color=l;var n,r,s,x,a,y=i.getRGB(l);n=i.rgb2hsb(y),r=n.h,s=n.s,x=n.b,a=(s-t)/e,this.step=a,this.h=r,this.s=s,this.b=x}}function g(l,e,n){for(var r=(e.get("paper"),e.get("color")),s=new t,x=r&&r.initial,a=x&&i.getRGB(x),y=r&&d(r.min),o=new p(a,n,y),c=0,h=a,v=e.get("gradient"),f=0,g=l.length;g>f;f++)for(var u=l[f][0].color,_=l[f].length,m=new p(u,_),b=0,w=l[f].length;w>b;b++){var k,L=l[f][b],C=L.el,A=C.get("framedata"),S=C.get("$path");if(L.color)k=L.color;else{var M;if(M=m.getColor())k=M;else{var T=o.getColor();k=T?T:s.getColor(f+b).DEFAULT}}C.set("fill",k),S.attr("fill",k);var E=A.gradientcolor||h;v&&S.attr("gradient",c+A.to.deg/2+"-"+E+"-"+k),c+=A.to.deg,h=k}}function u(e){e=r(e,function(l){var e=l.el.get("$path");return l.hide?(e.hide(),!1):(e.show(),!0)});for(var t=0,i=e.length;i>t;t++)for(var n=e[t],s=a(n,function(e){return e.value&&!e.hide&&l.isNumber(e.value)?e.value:0}),x=0,y=0,o=n.length;o>y;y++){var c=n[y];c.el.get("$path"),c.percent=c.value/s,c.to.deg=y==o-1?360-x:360*c.percent,x+=360*c.percent,c.prev=y>0?n[y-1]:n[o-1],c.next=o-1>y?n[y+1]:n[0]}}function _(l){for(l%=360;0>l;)l+=360;return l>=0&&90>=l||l>270&&360>=l?!0:!1}function m(l){var e=c(l.get("data")),t=v(e.groups,l);l.get("color"),l.get("hsb");var i=n(e.groups);return f(e.set,l),g(e.set,l,i.length),{$sectors:t,groups:e.groups,set:e.set,framedata:i}}function b(l,e,t){return t||(t=5),t>Math.abs(l-e)}var w=l.isArray;p.prototype.getColor=function(){var l;return this.color&&(l="hsb("+[this.h,this.s-=this.step,this.b].join(",")+")"),l};var k={initPath:m,fillColor:g,adjustFrameData:u,isRightAngel:_,filterdata:s,closeto:b};return k},{requires:["gallery/kcharts/1.3/piechart/sector","gallery/kcharts/1.1/tools/color/index","gallery/kcharts/1.1/raphael/index"]}),KISSY.add("gallery/kcharts/1.3/piechart/sector",function(l,e){function t(l,e,t,i,n){Math.abs(i-n)>=360&&(n+=.01),i==n&&(n-=.1);var r,s=Math.PI/180,x=(i+n)/2,a=l+t*Math.cos(-x*s),y=l+.5*t*Math.cos(-x*s),o=l+t*Math.cos(-i*s),c=l+t*Math.cos(-n*s),h=e+t*Math.sin(-x*s),v=e+.5*t*Math.sin(-x*s),f=e+t*Math.sin(-i*s),d=e+t*Math.sin(-n*s),p=+(Math.abs(i-n)>180),g=1;return r=["M",l,e,"L",o,f,"A",t,t,0,p,g,c,d,"z"],r.middleangle=x,r.middlex=a,r.middley=h,r.cx=y,r.cy=v,r.A=[o,f],r.B=[c,d],r}function i(l,e,t,i,n,r){Math.abs(n-r)>=360&&(r+=.01),n==r&&(r-=.1);var s=Math.PI/180,x=(n+r)/2,a=l+i*Math.cos(-x*s),y=l+(t+.5*(i-t))*Math.cos(-x*s),o=(l+t*Math.cos(-x*s),l+t*Math.cos(-n*s)),c=l+t*Math.cos(-r*s),h=l+i*Math.cos(-n*s),v=l+i*Math.cos(-r*s),f=e+i*Math.sin(-x*s),d=e+(t+.5*(i-t))*Math.sin(-x*s),p=(e+t*Math.sin(-x*s),e+t*Math.sin(-n*s)),g=e+t*Math.sin(-r*s),u=e+i*Math.sin(-n*s),_=e+i*Math.sin(-r*s),m=["M",h,u,"L",o,p,"A",t,t,0,+(Math.abs(r-n)>180),1,c,g,"L",v,_,"A",i,i,0,+(Math.abs(r-n)>180),0,h,u];return m.middleangle=x,m.middlex=a,m.middley=f,m.cx=y,m.cy=d,m.A=[o,p],m.B=[h,u],m.C=[c,g],m.D=[v,_],m}var n,r={initializer:function(){return this.draw(),this.bindEvent(),this},bindEvent:function(){this.on("afterCxChange",function(){this.draw()}),this.on("afterCyChange",function(){this.draw()}),this.on("afterStartChange",function(){this.draw()}),this.on("afterEndChange",function(){this.draw()}),this.on("afterRChange",function(){this.draw()});var l=this.get("$path"),e=this;l.click(function(){e.fire("click")}),l.mouseout(function(){e.fire("mouseout")}),l.mouseover(function(){e.fire("mouseover")})},unbindEvent:function(){this.detach();var l=this.get("$path");l.unclick(),l.unmouseover(),l.unmouseout()},_syncAttrFromPath:function(l){this.set({middleangle:l.middleangle,sectorcx:l.cx,sectorcy:l.cy,middlex:l.middlex,middley:l.middley,centerpoint:l.cc,A:l.A,B:l.B})},draw:function(){var e=this.get("r"),t=this.get("paper"),i=this.get("pathcfg"),n=this.get("framedata"),r=n&&n.sectorcfg||{},s=t.path();i=l.merge({stroke:"#fff"},i),r&&(i=l.merge(i,{stroke:r.stroke,"stroke-width":r.strokeWidth})),s.attr(i),this.set("$path",s),l.isArray(e)&&2==e.length?this._drawDonut():this._drawSector()},_drawSector:function(){var l,e=this.get("cx"),i=this.get("cy"),n=this.get("r"),r=this.get("start"),s=this.get("end"),x=t(e,i,n,r,s),a=x.join(",");return this.get("paper"),l=this.get("$path"),l.attr("path",a),this._syncAttrFromPath(x),this.draw=this._drawSector,this},_drawDonut:function(){var l,e=this.get("cx"),t=this.get("cy"),n=this.get("r"),r=this.get("start"),s=this.get("end");n=n.sort(function(l,e){return e>l?-1:l==e?0:1});var x=i(e,t,n[0],n[1],r,s),a=x.join(",");return this.get("paper"),l=this.get("$path"),l.attr("path",a),this._syncAttrFromPath(x),this.draw=this._drawDonut,this},destroy:function(){this.unbindEvent(),this.get("$path").remove()}};return e.extend?n=e.extend(r):(n=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(n,l.Base,r)),n},{requires:["base"]}),KISSY.add("gallery/kcharts/1.3/piechart/label",function(l,e,t,i){function n(l,e){var t,i,n,r;return t=l[0],n=l[1],i=e[0],r=e[1],Math.sqrt(Math.pow(t-i,2)+Math.pow(n-r,2))}function r(l,e,t){function i(l,r,s,x){if(t>=l.length)return{min:s,left:x};if(r>n(e,l[0])){var a=l.slice(1);return i(a,n(e,l[0]),l[0],a)}return i(l.slice(1),r,s,x)}return i(l,1/0,l[0],[])}function s(l,e){function t(l,e,i){if(0==l.length)return i;var n=r(e,l[0],l.length-1);return i.push(n.min),t(l.slice(1),n.left,i)}return t(l,e,[])}function x(l){return a||(a=e("<span/>").css({visibility:"hidden",position:"fixed",left:"-9999em",top:0}).appendTo(document.body)),a.html(l),{width:i.width(a),height:i.height(a)}}var a,y,o={initializer:function(){var l=this.get("label"),e=this.get("x"),t=this.get("y"),i=this.get("size"),n=this.get("pie"),r=(this.get("sector"),n.get("container"));l.css({position:"absolute",left:e+"px",top:t+"px",width:i.width+"px",height:i.height+"px"}).appendTo(r),this.set("el",l)},destroy:function(){var l=this.get("el"),e=this.get("$path");l.detach("click"),l.remove(),e.remove()}};t.extend?y=t.extend(o):(y=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(y,t,o));var c,h={initializer:function(){var t,i,n,r,a,o,c,h=this.get("pie"),v=this.get("$sectors"),f=this.get("isleft"),d=h.get("paper"),p=(h.get("container"),v.length,[]),g=[],u=[],_=h.get("cx"),m=h.get("cy"),b=h.get("rs"),w=h.get("padding")||20,k=w+10,L=(Math.cos,Math.sin,Math.asin,Math.PI,Math.PI/180);if(this.labels=[],c=v[0],c&&(t=x(c.get("label")).height)){for(r=Math.max.apply(Math,b),a=r+w,o=r+k,i=m-o,n=m+o,i+=t;n-t>i;i+=t){var C=i,A=Math.asin((C-m)/o),S=_+o*Math.cos(A);S=f?2*_-S:S,p.push([S,C])}v.length>p.length&&(v=v.sort(function(l,e){var t=Math.abs(l.get("start")-l.get("end")),i=Math.abs(e.get("start")-e.get("end"));return t>i?-1:i>t?1:0}),v=v.slice(0,p.length)),v=v.sort(function(l,e){var t=l.get("middley"),i=e.get("middley");return i>t?1:t>i?-1:0}),Math.PI/180,l.each(v,function(l){var e,t,i=l.get("middlex"),n=l.get("middley"),r=l.get("middleangle")*L;e=_+a*Math.cos(-r),t=m+a*Math.sin(-r),u.push([e,t]),g.push([i,n])}),g=g.reverse(),u=u.reverse(),v=v.reverse();for(var M=s(g,p),T=0,E=M.length;E>T;T++){var I,P,z,Y,X=g[T],R=M[T];I=X[0],z=X[1],P=R[0],Y=R[1];var N,G;N=u[T][0],G=u[T][1];var F,Z=Y;F=f?P-10:P+10;var $,D,O,j=d.path(["M",I,z,"Q",N,G,F,Z].join(",")),B=v[T],U=h.get("sizefn"),H=B.get("label"),K=h.get("labelfn"),q=this,V=B.get("$path").attr("fill"),W=h.get("autoLabelPathColor");K&&l.isFunction(K)&&(H=K(H,B,h)),$=x(H),j&&j.toBack&&j.toBack(),"undefined"!=W&&j.attr("stroke",V),U&&l.isFunction(U)&&($=U($,B,h)),f?(D=F-$.width,O=Z-$.height/2):(D=F,O=Z-$.height/2);var Q=e("<span class='kcharts-label'>"+H+"</span>"),J=new y({label:Q,sector:B,$path:j,x:D,y:O,size:$,pie:h}),le=J.get("el"),ee=function(l,e,t){l.on("click",function(l){q.fire("click",{el:l.currentTarget,label:t,sector:e})})};ee(le,B,J),q.labels.push(J)}}},destroy:function(){l.each(this.labels,function(l){l.destroy()})}};return t.extend?c=t.extend(h):(c=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(c,t,h)),c.getSizeOf=x,c},{requires:["node","base","dom"]}),KISSY.add("gallery/kcharts/1.3/piechart/index",function(l,e,t,i,n,r,s,x,a,y){function o(){this.destroy();var l=r(this.get("container"),this.get("width"),this.get("height"));this.set("paper",l),this.initPath(),this.fire("beforeRender");var e=this.get("framedata");this.animate(e)}function c(e){var t,i=this.get("width"),n=this.get("height"),r=Math.min(i,n),s=e.rpadding;e.rs||(s||(s=40,this.set("rpadding",s)),t=r>s?r-s:r,e.rs=[t/2]),l.isNumber(e.cx)||(e.cx=i/2),l.isNumber(e.cy)||(e.cy=n/2),l.isNumber(e.repaintRate)||(e.repaintRate=200),e.donut&&2!=e.rs.length&&(e.donutSize||(e.donutSize=30),e.donutSize>e.rs[0]&&(e.donutSize=e.rs[0]/2),e.rs[1]=e.rs[0]-e.donutSize)}var h,v="{COLOR}",f=function(){var e=l.get(this.get("renderTo")),t=y.width(e),i=y.height(e),n=r(e),s="static"==y.css(e,"position")?!0:!1;this.set({paper:n,width:t,height:i,container:e});var x=this.userConfig;if(this._setupcfg(x),l.isArray(x.rs)||(x.rs=[x.rs]),s&&y.css(e,"position","relative"),this.set(x),this.adjustCfg(),this.adjustData(),this.drawTitle(),0!=x.autoRender){var a=this;setTimeout(function(){a.render()},0)}var o=this.get("tip");o&&0!=o&&this.renderTip()},d={initializer:f,bindEvent:function(){this.on("afterCxChange",function(){this.render()}),this.on("afterCyChange",function(){this.render()}),this.on("afterRsChange",function(){this.render()}),this.on("afterDataChange",function(){this.render()}),a.on(this.get("container"),"mouseleave",function(){this.fire("mouseleave")},this),this.on("afterRender",this.onafterrender,this)},_setupcfg:c,onafterrender:function(){function e(){var e,t=s.get("$sectors");return e=l.map(t,function(l){var e=l.get("$path"),t=e.attr("fill"),i=l.get("framedata"),n=i.label;return{color:t,text:n,$path:e}})}if(!this.legendrendered){this.legendrendered=!0;var t,i,n,s=this,x=this.get("legend");x&&x.isShow===!1||x&&(t=this.get("paper"),i=this.get("container"),n=this.getbbox(),l.use("gallery/kcharts/1.3/legend/index",function(l,a){var y=e(),o={paper:t,container:i,bbox:n,iconAttrHook:function(l){return{fill:y[l].color}},spanAttrHook:function(l){var e=r.getRGB(y[l].color);return{color:e.hex}},config:y};x.globalConfig=l.merge({shape:"square",interval:20,iconright:5},x.globalConfig);var c=new a(l.merge(o,x));s.set("legend",c),s.fire("afterLegendRender")}))}},adjustCfg:function(){var e=this.get("anim"),t=this,i=l.isFunction(e.endframe)&&e.endframe,n=t.get("label");e||(e={duration:0}),e.endframe=function(){0!=n&&t.drawLabel(n),i&&i.call(t),t.fire("afterRender")}},adjustData:function(){var t=this.get("filterfn");if(t&&l.isFunction(t)){var i,n=this.get("series")||this.get("data");i=e.filterdata(n,t),this.set("data",i)}},initPath:function(){var l=e.initPath(this);this.set("$sectors",l.$sectors),this.set("groups",l.groups),this.set("set",l.set),this.set("framedata",l.framedata)},render:function(){this.initPath(),this.fire("beforeRender");var e=this.get("framedata");this.animate(e);var t=l.buffer(o,this.get("repaintRate"),this);this.render=t,this.bindEvent()},adjust:function(){var t=this.get("groups").slice(0),i=this.get("framedata");i=l.filter(i,function(l){return!l.hide}),e.adjustFrameData(t,this);var n=this.get("$labels");l.each(n,function(l){l&&l.destroy()}),this.animate(i)},autoResize:function(){var l,t,i,n=this.get("container"),r=y.width(n),s=y.height(n),x=Math.min(r,s),a=this.get("rpadding"),o=this.get("cx"),c=this.get("cy");t=r/2,i=s/2;var h=this.get("titlebbox");h&&(i+=h.height);var v={width:r,height:s};this.set(v),e.closeto(t,o)||this.set("cx",t),e.closeto(i,c)||this.set("cy",i),l=x>a?x-a:x,h&&(l-=h.height);var f,d,p=this.get("donut"),g=this.get("donutSize");if(p)f=l/2,d=g>f?f/2:f-g,this.set("rs",[f,d]);else{var u=this.get("rs");1==u.length&&this.set("rs",[l/2])}},animate:function(l){var e=this,t=this.get("anim");this.isRunning()&&this.stop(),e.fire("beginRender"),this.animateInstance=i.AnimateObject(l,t)},drawTitle:function(){var e,t,i,r=this.get("title");if(r){e=r.content,t=r.offset||[0,10],i=r.align||"center";var s,x,a=n.getSizeOf(e),o=this.get("container"),c=y.width(o);y.height(o),s="left"==i?0:"right"==i?c-a.width:(c-a.width)/2+t[0],x=t[1];var h=l.Node("<div>"+e+"</div>");h.css({top:x+"px",left:s+"px",position:"absolute"}),this.set("title",h),this.set("titlebbox",{left:s,top:x,width:a.width,height:a.height}),h.appendTo(o)}},drawLabel:function(){var t,i,r=[],s=[],x=this.get("$sectors");l.each(x,function(t){var i=t.get("middleangle"),n=t.get("groupLength"),x=t.get("groupIndex"),a=e.isRightAngel(i),y=t.get("framedata");y.hide||(l.indexOf(n-1,x)>-1?a?s.push(t):(t.set("isleft",!0),r.push(t)):a?t.set("isright",!0):t.set("isleft",!0))}),t=new n({pie:this,$sectors:r,isleft:!0}),i=new n({pie:this,$sectors:s,isleft:!1}),t.on("click",this.onLabelClick,this),i.on("click",this.onLabelClick,this),this.set("$labels",[].concat(t,i))},drawSetLabel:function(){},getbbox:function(){var l,e=this.get("rs"),t=e[e.length-1],i=this.get("rpadding")||0,n=this.get("padding")||0,r=this.get("cx"),s=this.get("cy"),x=2*(t+i+n),a=r-x/2,y=s-x/2;return l={width:x,height:x,left:a,top:y}},renderTip:function(e){if(!this.tip&&(e||(e=this.get("tip")),e)){var t=this,i=t.get("container");l.use("gallery/kcharts/1.3/tip/index",function(l,r){var s=t.getbbox();s.x=s.left,s.y=s.top;var x=e.themeCls||"ks-chart-default",a=e.boundryDetect?s:{},y=l.mix(e,{rootNode:i,clsName:x,boundry:a},void 0,void 0,!0),o=new r(y);t.tip=o,t.on("mouseover",function(i){var r=i.sector,s=r.get("middlex"),x=r.get("middley"),a=r.get("framedata"),y=a.label,c=r.get("groupIndex"),h=r.get("donutIndex"),v=a.percent,f=r.get("color");n.getSizeOf(y),v=(100*v).toFixed(2)+"%",l.isFunction(e.template)?o.setContent(e.template.apply(o,[h,c,y,v])):o.renderTemplate(e.template,{donutIndex:h,index:c,label:y,percent:v}),o.fire("move",{x:s,y:x,style:t.processAttr(e.css,f)})},t)})}},processAttr:function(e,t){var i=l.clone(e);for(var n in i)i[n]&&"string"==typeof i[n]&&(i[n]=i[n].replace(v,t));return i},onLabelClick:function(l){this.fire("labelclick",{el:l.el,label:l.label,sector:l.sector})},isRunning:function(){return this.animateInstance&&this.animateInstance.isRunning()},stop:function(){this.animateInstance&&(this.animateInstance.stop(),delete this.animateInstance)},destroy:function(){var e=this.get("$sectors"),t=this.get("$labels"),i=[].concat(e,t);l.each(i,function(l){l&&l.destroy()}),this.set("$sectors",null),this.set("$labels",null),this.get("paper").remove()}};return x.extend?h=x.extend(d):(h=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(h,x,d)),h.getSizeOf=n.getSizeOf,h},{requires:["./util","./sector","gallery/kcharts/1.3/animate/index","./label","gallery/kcharts/1.3/raphael/index","gallery/kcharts/1.3/tools/color/index","base","event","dom"]});